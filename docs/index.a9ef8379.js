var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function n(t){return t&&t.__esModule?t.default:t}function r(t,e){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t}var o={},i={},a=t.parcelRequire63d7;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in i){var e=i[t];delete i[t];var n={id:t,exports:{}};return o[t]=n,e.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){i[t]=e},t.parcelRequire63d7=a),a.register("bEVqM",(function(t,e){var n=a("l0CXE"),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r?n.Buffer:void 0,s=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}})),a.register("l0CXE",(function(t,e){var n=a("cKotg"),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o})),a.register("cKotg",(function(e,n){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r})),a.register("94frH",(function(t,e){var n=a("l0CXE"),r=a("XwkFr"),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;t.exports=c})),a.register("XwkFr",(function(t,e){t.exports=function(){return!1}})),a.register("f0aqH",(function(t,e){var n=a("cKotg"),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=s})),a.register("jyq4T",(function(e,n){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var p="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=p||f||Function("return this")(),h=n&&!n.nodeType&&n,v=h&&e&&!e.nodeType&&e,g=v&&v.exports===h,m=g&&p.process,y=function(){try{var t=v&&v.require&&v.require("util").types;return t||m&&m.binding&&m.binding("util")}catch(t){}}(),_=y&&y.isTypedArray;function b(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var w,k,x,E=Array.prototype,S=Function.prototype,O=Object.prototype,j=d["__core-js_shared__"],T=S.toString,C=O.hasOwnProperty,L=(w=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",I=O.toString,R=T.call(Object),N=RegExp("^"+T.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=g?d.Buffer:void 0,P=d.Symbol,D=d.Uint8Array,M=A?A.allocUnsafe:void 0,q=(k=Object.getPrototypeOf,x=Object,function(t){return k(x(t))}),B=Object.create,U=O.propertyIsEnumerable,F=E.splice,z=P?P.toStringTag:void 0,H=function(){try{var t=vt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),$=A?A.isBuffer:void 0,G=Math.max,W=Date.now,X=vt(d,"Map"),K=vt(Object,"create"),V=function(){function t(){}return function(e){if(!jt(e))return{};if(B)return B(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=this.__data__=new J(t);this.size=e.size}function tt(t,e){var n=kt(t),r=!n&&wt(t),o=!n&&!r&&Et(t),i=!n&&!r&&!o&&Ct(t),a=n||r||o||i,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=s.length;for(var u in t)!e&&!C.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gt(u,c))||s.push(u);return s}function et(t,e,n){(void 0!==n&&!bt(t[e],n)||void 0===n&&!(e in t))&&ot(t,e,n)}function nt(t,e,n){var r=t[e];C.call(t,e)&&bt(r,n)&&(void 0!==n||e in t)||ot(t,e,n)}function rt(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function ot(t,e,n){"__proto__"==e&&H?H(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}Y.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Y.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Y.prototype.get=function(t){var e=this.__data__;if(K){var n=e[t];return n===r?void 0:n}return C.call(e,t)?e[t]:void 0},Y.prototype.has=function(t){var e=this.__data__;return K?void 0!==e[t]:C.call(e,t)},Y.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=K&&void 0===e?r:e,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(t){var e=this.__data__,n=rt(e,t);return!(n<0)&&(n==e.length-1?e.pop():F.call(e,n,1),--this.size,!0)},J.prototype.get=function(t){var e=this.__data__,n=rt(e,t);return n<0?void 0:e[n][1]},J.prototype.has=function(t){return rt(this.__data__,t)>-1},J.prototype.set=function(t,e){var n=this.__data__,r=rt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(X||J),string:new Y}},Z.prototype.delete=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e},Z.prototype.get=function(t){return ht(this,t).get(t)},Z.prototype.has=function(t){return ht(this,t).has(t)},Z.prototype.set=function(t,e){var n=ht(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new J,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof J){var r=n.__data__;if(!X||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Z(r)}return n.set(t,e),this.size=n.size,this};var it,at=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var s=i[it?a:++r];if(!1===e(o[s],s,o))break}return t};function st(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?function(t){var e=C.call(t,z),n=t[z];try{t[z]=void 0;var r=!0}catch(t){}var o=I.call(t);r&&(e?t[z]=n:delete t[z]);return o}(t):function(t){return I.call(t)}(t)}function ct(t){return Tt(t)&&st(t)==i}function ut(t){return!(!jt(t)||function(t){return!!L&&L in t}(t))&&(St(t)?N:c).test(function(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function lt(t){if(!jt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=mt(t),n=[];for(var r in t)("constructor"!=r||!e&&C.call(t,r))&&n.push(r);return n}function pt(t,e,n,r,o){t!==e&&at(e,(function(i,a){if(o||(o=new Q),jt(i))!function(t,e,n,r,o,i,a){var c=yt(t,n),u=yt(e,n),l=a.get(u);if(l)return void et(t,n,l);var p=i?i(c,u,n+"",t,e,a):void 0,f=void 0===p;if(f){var d=kt(u),h=!d&&Et(u),v=!d&&!h&&Ct(u);p=u,d||h||v?kt(c)?p=c:Tt(b=c)&&xt(b)?p=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(c):h?(f=!1,p=function(t,e){if(e)return t.slice();var n=t.length,r=M?M(n):new t.constructor(n);return t.copy(r),r}(u,!0)):v?(f=!1,g=u,m=!0?(y=g.buffer,_=new y.constructor(y.byteLength),new D(_).set(new D(y)),_):g.buffer,p=new g.constructor(m,g.byteOffset,g.length)):p=[]:function(t){if(!Tt(t)||st(t)!=s)return!1;var e=q(t);if(null===e)return!0;var n=C.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&T.call(n)==R}(u)||wt(u)?(p=c,wt(c)?p=function(t){return function(t,e,n,r){var o=!n;n||(n={});var i=-1,a=e.length;for(;++i<a;){var s=e[i],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),o?ot(n,s,c):nt(n,s,c)}return n}(t,Lt(t))}(c):jt(c)&&!St(c)||(p=function(t){return"function"!=typeof t.constructor||mt(t)?{}:V(q(t))}(u))):f=!1}var g,m,y,_;var b;f&&(a.set(u,p),o(p,u,r,i,a),a.delete(u));et(t,n,p)}(t,e,a,n,pt,r,o);else{var c=r?r(yt(t,a),i,a+"",t,e,o):void 0;void 0===c&&(c=i),et(t,a,c)}}),Lt)}function ft(t,e){return _t(function(t,e,n){return e=G(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=G(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),b(t,this,s)}}(t,e,Nt),t+"")}var dt=H?function(t,e){return H(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Nt;function ht(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function vt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ut(n)?n:void 0}function gt(t,e){var n=typeof t;return!!(e=null==e?o:e)&&("number"==n||"symbol"!=n&&u.test(t))&&t>-1&&t%1==0&&t<e}function mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||O)}function yt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _t=function(t){var e=0,n=0;return function(){var r=W(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(dt);function bt(t,e){return t===e||t!=t&&e!=e}var wt=ct(function(){return arguments}())?ct:function(t){return Tt(t)&&C.call(t,"callee")&&!U.call(t,"callee")},kt=Array.isArray;function xt(t){return null!=t&&Ot(t.length)&&!St(t)}var Et=$||function(){return!1};function St(t){if(!jt(t))return!1;var e=st(t);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function jt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tt(t){return null!=t&&"object"==typeof t}var Ct=_?function(t){return function(e){return t(e)}}(_):function(t){return Tt(t)&&Ot(t.length)&&!!l[st(t)]};function Lt(t){return xt(t)?tt(t,!0):lt(t)}var It,Rt=(It=function(t,e,n){pt(t,e,n)},ft((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=It.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!jt(n))return!1;var r=typeof e;return!!("number"==r?xt(n)&&gt(e,n.length):"string"==r&&e in n)&&bt(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&It(t,a,n,o)}return t})));function Nt(t){return t}e.exports=Rt})),a.register("gL7ev",(function(t,n){e(t.exports,"isNodeEnv",(function(){return i}),(function(t){return i=t})),e(t.exports,"dynamicRequire",(function(){return s}),(function(t){return s=t}));var r=a("hoEGD"),o=a("3crZL");function i(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call(void 0!==o?o:0)}function s(t,e){return t.require(e)}})),a.register("hoEGD",(function(t,n){function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}e(t.exports,"isBrowserBundle",(function(){return r}))})),a.register("3crZL",(function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}})),a.register("3Wlpk",(function(t,n){e(t.exports,"dateTimestampInSeconds",(function(){return u}),(function(t){return u=t})),e(t.exports,"timestampInSeconds",(function(){return l}),(function(t){return l=t}));var r=a("k6cxq"),o=a("gL7ev"),i={nowSeconds:function(){return Date.now()/1e3}};var s=o.isNodeEnv()?function(){try{return o.dynamicRequire(t,"perf_hooks").performance}catch(t){return}}():function(){var t=r.getGlobalObject().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),c=void 0===s?i:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},u=i.nowSeconds.bind(i),l=c.nowSeconds.bind(c);!function(){var t=r.getGlobalObject().performance;if(t&&t.now){var e=36e5,n=t.now(),o=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-o):e,a=i<e,s=t.timing&&t.timing.navigationStart,c="number"==typeof s?Math.abs(s+n-o):e;return a||c<e?i<=c?("timeOrigin",t.timeOrigin):("navigationStart",s):("dateNow",o)}"none"}()})),a.register("k6cxq",(function(n,r){e(n.exports,"getGlobalObject",(function(){return s})),e(n.exports,"getGlobalSingleton",(function(){return c}));var o=a("gL7ev"),i={};function s(){return o.isNodeEnv()?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function c(t,e,n){var r=n||s(),o=r.__SENTRY__=r.__SENTRY__||{};return o[t]||(o[t]=e())}}));var s,c,u={},l={},p={};c=function(){this.__data__=[],this.size=0};var f,d={},h={};h=function(t,e){return t===e||t!=t&&e!=e},d=function(t,e){for(var n=t.length;n--;)if(h(t[n][0],e))return n;return-1};var v=Array.prototype.splice;f=function(t){var e=this.__data__,n=d(e,t);return!(n<0)&&(n==e.length-1?e.pop():v.call(e,n,1),--this.size,!0)};var g;g=function(t){var e=this.__data__,n=d(e,t);return n<0?void 0:e[n][1]};var m;m=function(t){return d(this.__data__,t)>-1};var y;function _(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y=function(t,e){var n=this.__data__,r=d(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},_.prototype.clear=c,_.prototype.delete=f,_.prototype.get=g,_.prototype.has=m,_.prototype.set=y,p=_;var b;b=function(){this.__data__=new p,this.size=0};var w;w=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var k;k=function(t){return this.__data__.get(t)};var x;x=function(t){return this.__data__.has(t)};var E,S,O,j={},T={},C={},L={};O=(tt=a("l0CXE")).Symbol;var I={},R=Object.prototype,N=R.hasOwnProperty,A=R.toString,P=O?O.toStringTag:void 0;I=function(t){var e=N.call(t,P),n=t[P];try{t[P]=void 0;var r=!0}catch(t){}var o=A.call(t);return r&&(e?t[P]=n:delete t[P]),o};var D={},M=Object.prototype.toString;D=function(t){return M.call(t)};var q=O?O.toStringTag:void 0;L=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":q&&q in Object(t)?I(t):D(t)};var B={};B=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};C=function(t){if(!B(t))return!1;var e=L(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var U,F,z={},H=(tt=a("l0CXE"))["__core-js_shared__"],$=(F=/[^.]+$/.exec((U=H)&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"";z=function(t){return!!$&&$ in t};var G={},W=Function.prototype.toString;G=function(t){if(null!=t){try{return W.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var X=/^\[object .+?Constructor\]$/,K=Function.prototype,V=Object.prototype,Y=K.toString,J=V.hasOwnProperty,Z=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");T=function(t){return!(!B(t)||z(t))&&(C(t)?Z:X).test(G(t))};var Q={};Q=function(t,e){return null==t?void 0:t[e]},j=function(t,e){var n=Q(t,e);return T(n)?n:void 0};var tt=a("l0CXE"),et=j(tt,"Map");S=et;var nt,rt,ot={},it={},at={},st=j(Object,"create");at=st,rt=function(){this.__data__=at?at(null):{},this.size=0};var ct;ct=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var ut,lt=Object.prototype.hasOwnProperty;ut=function(t){var e=this.__data__;if(at){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return lt.call(e,t)?e[t]:void 0};var pt,ft=Object.prototype.hasOwnProperty;pt=function(t){var e=this.__data__;return at?void 0!==e[t]:ft.call(e,t)};var dt;function ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=at&&void 0===e?"__lodash_hash_undefined__":e,this},ht.prototype.clear=rt,ht.prototype.delete=ct,ht.prototype.get=ut,ht.prototype.has=pt,ht.prototype.set=dt,it=ht,nt=function(){this.size=0,this.__data__={hash:new it,map:new(S||p),string:new it}};var vt,gt={},mt={};mt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},gt=function(t,e){var n=t.__data__;return mt(e)?n["string"==typeof e?"string":"hash"]:n.map},vt=function(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e};var yt;yt=function(t){return gt(this,t).get(t)};var _t;_t=function(t){return gt(this,t).has(t)};var bt;function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bt=function(t,e){var n=gt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wt.prototype.clear=nt,wt.prototype.delete=vt,wt.prototype.get=yt,wt.prototype.has=_t,wt.prototype.set=bt,ot=wt;function kt(t){var e=this.__data__=new p(t);this.size=e.size}E=function(t,e){var n=this.__data__;if(n instanceof p){var r=n.__data__;if(!S||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ot(r)}return n.set(t,e),this.size=n.size,this},kt.prototype.clear=b,kt.prototype.delete=w,kt.prototype.get=k,kt.prototype.has=x,kt.prototype.set=E,l=kt;var xt={},Et={},St={},Ot=function(){try{var t=j(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();St=Ot,Et=function(t,e,n){"__proto__"==e&&St?St(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},xt=function(t,e,n){(void 0!==n&&!h(t[e],n)||void 0===n&&!(e in t))&&Et(t,e,n)};var jt={};var Tt=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}();jt=Tt;var Ct={},Lt=a("bEVqM"),It={},Rt={},Nt={},At=(tt=a("l0CXE")).Uint8Array;Nt=At,Rt=function(t){var e=new t.constructor(t.byteLength);return new Nt(e).set(new Nt(t)),e},It=function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Pt={};Pt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var Dt={},Mt={},qt=Object.create,Bt=function(){function t(){}return function(e){if(!B(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();Mt=Bt;var Ut={};var Ft=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object);Ut=Ft;var zt={},Ht=Object.prototype;zt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ht)},Dt=function(t){return"function"!=typeof t.constructor||zt(t)?{}:Mt(Ut(t))};var $t={},Gt={},Wt={};Wt=function(t){return null!=t&&"object"==typeof t};Gt=function(t){return Wt(t)&&"[object Arguments]"==L(t)};var Xt=Object.prototype,Kt=Xt.hasOwnProperty,Vt=Xt.propertyIsEnumerable,Yt=Gt(function(){return arguments}())?Gt:function(t){return Wt(t)&&Kt.call(t,"callee")&&!Vt.call(t,"callee")};$t=Yt;var Jt={},Zt=Array.isArray;Jt=Zt;var Qt={},te={},ee={};ee=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},te=function(t){return null!=t&&ee(t.length)&&!C(t)},Qt=function(t){return Wt(t)&&te(t)};var ne=a("94frH"),re={},oe=Function.prototype,ie=Object.prototype,ae=oe.toString,se=ie.hasOwnProperty,ce=ae.call(Object);re=function(t){if(!Wt(t)||"[object Object]"!=L(t))return!1;var e=Ut(t);if(null===e)return!0;var n=se.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ae.call(n)==ce};var ue,le={},pe={};pe["[object Float32Array]"]=pe["[object Float64Array]"]=pe["[object Int8Array]"]=pe["[object Int16Array]"]=pe["[object Int32Array]"]=pe["[object Uint8Array]"]=pe["[object Uint8ClampedArray]"]=pe["[object Uint16Array]"]=pe["[object Uint32Array]"]=!0,pe["[object Arguments]"]=pe["[object Array]"]=pe["[object ArrayBuffer]"]=pe["[object Boolean]"]=pe["[object DataView]"]=pe["[object Date]"]=pe["[object Error]"]=pe["[object Function]"]=pe["[object Map]"]=pe["[object Number]"]=pe["[object Object]"]=pe["[object RegExp]"]=pe["[object Set]"]=pe["[object String]"]=pe["[object WeakMap]"]=!1,ue=function(t){return Wt(t)&&ee(t.length)&&!!pe[L(t)]};var fe={};fe=function(t){return function(e){return t(e)}};var de=a("f0aqH"),he=de&&de.isTypedArray,ve=he?fe(he):ue;le=ve;var ge={};ge=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var me={},ye={},_e={},be=Object.prototype.hasOwnProperty;_e=function(t,e,n){var r=t[e];be.call(t,e)&&h(r,n)&&(void 0!==n||e in t)||Et(t,e,n)},ye=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),o?Et(n,s,c):_e(n,s,c)}return n};var we={},ke={},xe={};xe=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};ne=a("94frH");var Ee={},Se=/^(?:0|[1-9]\d*)$/;Ee=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Se.test(t))&&t>-1&&t%1==0&&t<e};var Oe=Object.prototype.hasOwnProperty;ke=function(t,e){var n=Jt(t),r=!n&&$t(t),o=!n&&!r&&ne(t),i=!n&&!r&&!o&&le(t),a=n||r||o||i,s=a?xe(t.length,String):[],c=s.length;for(var u in t)!e&&!Oe.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ee(u,c))||s.push(u);return s};var je={},Te={};Te=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var Ce=Object.prototype.hasOwnProperty;je=function(t){if(!B(t))return Te(t);var e=zt(t),n=[];for(var r in t)("constructor"!=r||!e&&Ce.call(t,r))&&n.push(r);return n},we=function(t){return te(t)?ke(t,!0):je(t)},me=function(t){return ye(t,we(t))},Ct=function(t,e,n,r,o,i,a){var s=ge(t,n),c=ge(e,n),u=a.get(c);if(u)xt(t,n,u);else{var l=i?i(s,c,n+"",t,e,a):void 0,p=void 0===l;if(p){var f=Jt(c),d=!f&&ne(c),h=!f&&!d&&le(c);l=c,f||d||h?Jt(s)?l=s:Qt(s)?l=Pt(s):d?(p=!1,l=Lt(c,!0)):h?(p=!1,l=It(c,!0)):l=[]:re(c)||$t(c)?(l=s,$t(s)?l=me(s):B(s)&&!C(s)||(l=Dt(c))):p=!1}p&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),xt(t,n,l)}},u=function t(e,n,r,o,i){e!==n&&jt(n,(function(a,s){if(i||(i=new l),B(a))Ct(e,n,s,r,t,o,i);else{var c=o?o(ge(e,s),a,s+"",e,n,i):void 0;void 0===c&&(c=a),xt(e,s,c)}}),we)};var Le,Ie={};Le=function(t){return t};var Re={},Ne={};Ne=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Ae=Math.max;Re=function(t,e,n){return e=Ae(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Ae(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),Ne(t,this,s)}};var Pe,De={},Me={};Me=function(t){return function(){return t}},Pe=St?function(t,e){return St(t,"toString",{configurable:!0,enumerable:!1,value:Me(e),writable:!0})}:Le;var qe=Date.now;var Be=function(t){var e=0,n=0;return function(){var r=qe(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Pe);De=Be,Ie=function(t,e){return De(Re(t,e,Le),t+"")};var Ue={};Ue=function(t,e,n){if(!B(n))return!1;var r=typeof e;return!!("number"==r?te(n)&&Ee(e,n.length):"string"==r&&e in n)&&h(n[e],t)};var Fe=function(t){return Ie((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Ue(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,i)}return e}))}((function(t,e,n){u(t,e,n)}));s=Fe;var ze,He,$e=a("jyq4T");var Ge=(He={isFunction:t=>"function"==typeof t,isObject:t=>null!==t&&"Object"===t.constructor.name,mapValues:(t,e)=>Object.entries(t).reduce(((t,[n,r])=>Object.assign(t,{[n]:e(r,n)})),{}),override:(t,e={})=>$e(t,((t,e)=>e.reduce(((e,n)=>Object.assign(e,{[n]:t[n]})),{}))(e,Object.keys(t)))}).isObject,We=He.isFunction,Xe=He.mapValues,Ke=He.override;ze=(t,e={})=>{const n={...t},r=Xe(n,(()=>[]));return n.composition={target:t,modules:n,dependencies:r},(o,i={},a=(t=>t))=>{const s={...e.defaults,...i},c=a(Ve(t[o],s,o));return n[o]=Ke({[o]:c},e.overrides)[o],r[o]=Object.keys(s),{...n}}};const Ve=(t,e,n)=>{if(!Ge(t))return t;const r={},o={[n]:r,...e},i=Xe(t,((t,e)=>We(t)?t(o):Ve(t,o,e)));return Object.assign(r,i)};var Ye={app:({el:t,ui:e,components:n,vendorComponents:r,subscriptions:o})=>()=>{const i=Object.values(n.modals).map((t=>t())),a=t("div","app").append(r.gtagScript(),t("div","modals").append(...i),n.header.container(),n.dropzone().append(t("div","control-panel").append(n.imageUploadOptions.container(),n.roleList.container(),n.optionsBar.container()),n.tagList.container()));return o.settings.onChange("app","modal",(t=>{e.toggleBoolClass(a,"modal",t)})),a},dropzone:({elements:t,services:e})=>()=>t.dropzone().addEventListener("drop",(t=>{e.tags.insertFileBatchAsync(t.dataTransfer.files)})),gravatar:{actions:{container:({el:t,actions:e})=>()=>t("div").append(e.importButton(),e.loading(),e.error()),error:({el:t,services:e,subscriptions:n,ui:r})=>()=>{const o=t("div","error-message"),i=t("a","dismiss",{textContent:"Dismiss"}).addEventListener("click",e.gravatar.status.to.ready),a=t("div","error").append(o,i);return n.settings.onChange("gravatar","status",(()=>{r.toggleBoolClass(a,"visible",e.gravatar.status.is.error())})),n.settings.onChange("gravatar","errorMessage",(t=>{o.textContent=t})),a},importButton:({el:t,services:e,subscriptions:n,ui:r})=>()=>{const o=t("button","import",{textContent:"Import"}).addEventListener("click",(()=>{const{emails:t,fallback:n}=e.settings.getGravatar();e.tags.insertGravatarBatchAsync(t,n)}));return n.settings.onChange("gravatar","status",(()=>{r.toggleBoolClass(o,"visible",e.gravatar.status.is.ready())})),n.settings.onChange("gravatar","freetext",(t=>{o.disabled=!t.trim()})),o},loading:({el:t,services:e,subscriptions:n,ui:r})=>()=>{const o=t("div","loading-indicator lds-dual-ring");return n.settings.onChange("gravatar","status",(()=>{r.toggleBoolClass(o,"visible",e.gravatar.status.is.working())})),o}},content:{container:({el:t,content:e})=>()=>t("div","gravatar").append(e.freetext(),e.fallbacks()),fallback:({el:t,services:e,subscriptions:n,ui:r})=>o=>{const i=t("img","fallback",{title:o,src:`img/gravatar-fallbacks/${o}.png`}).addEventListener("click",(()=>{e.gravatar.changeFallback(o)}));return n.settings.onChange("gravatar","fallback",(t=>{r.toggleBoolClass(i,"selected",o===t)})),i},fallbacks:({el:t,content:e,elements:n,config:r})=>()=>{const o=r.gravatar.fallbacks.map(e.fallback),i=t("div").append(...o);return n.label("Select a generated image style to use in case profile image is not found.",i)},freetext:({el:t,services:e,subscriptions:n,elements:r})=>()=>{const o=t("textarea","freetext").addEventListener("input",(()=>{e.gravatar.changeFreetext(o.value)}));n.settings.onChange("gravatar","freetext",(t=>{o.value=t})),n.settings.onChange("gravatar","status",(()=>{o.disabled=e.gravatar.status.is.working()}));return r.label("Email addresses:",o)}},title:({el:t})=>()=>{const e=t("span","gravatar-title",{textContent:"Import images from Gravatar"}),n=t("a","about-gravatar",{text:"What is Gravatar?",href:"https://en.gravatar.com/support/what-is-gravatar/",target:"_blank"});return t("div").append(e,n)}},header:{container:({el:t,header:e})=>()=>t("header").append(e.titleBar()),titleBar:({services:t,el:e,config:n})=>()=>{const r=e("a","tips",{textContent:"Tips & tricks"}).addEventListener("click",(()=>{t.settings.changeModal("tips")})),o=e("a",{textContent:"Send feedback",target:"_blank",href:n.app.issues}),i=e("a",{textContent:"Source code",target:"_blank",href:n.app.source}),a=e("dev-bar").append(r,o,i);return a.setAttribute("app-name",n.app.name),a}},imageUploadOptions:{chooseImages:({el:t,services:e})=>()=>{const n=t("input",{type:"file",multiple:!0,accept:"image/*"}).addEventListener("change",(t=>{e.tags.insertFileBatchAsync(t.target.files)})),r=t("a",{textContent:"Choose images"}).addEventListener("click",(t=>{t.preventDefault(),n.click(),t.fileInput=n}));return t("span").append(r)},container:({el:t,imageUploadOptions:e})=>()=>t("div","image-upload-options").append(t("span",{textContent:"Drag & drop images"}),e.chooseImages(),e.gravatar()),gravatar:({el:t,services:e,vendorServices:n})=>()=>t("a",{textContent:"Import images from Gravatar"}).addEventListener("click",(()=>{n.gtag("event","gravatar-clicked"),e.settings.changeModal("gravatar")}))},modal:({elements:t,services:e,subscriptions:n})=>({name:r,title:o,content:i,actions:a})=>t.modal({title:o,content:i,actions:a,onVisibilityChange:t=>{n.settings.onChange("app","modal",(e=>{t(e===r)}))}}).addEventListener("dismiss",e.settings.clearModal),modals:{gravatar:({components:t})=>()=>t.modal({name:"gravatar",title:t.gravatar.title(),content:t.gravatar.content.container(),actions:t.gravatar.actions.container()}),tips:({el:t,components:e})=>()=>{const{roleShortcut:n,naming:r,images:o,laminating:i,multiples:a,badges:s}=e.tips,c=[n,r,o,i,a,s],u=t("div","tips");return c.forEach((e=>{const n=e();n.className="tip";const r=t("div","heading",{textContent:n.title});n.prepend(r),u.append(n)})),e.modal({name:"tips",content:u,title:"Tips & tricks"})},welcome:({el:t,components:e,services:n,config:r})=>()=>{const o=t("h1","welcome-title",{textContent:`Welcome to ${r.app.name}`}),i=t("img",{src:"img/welcome.png",width:800}),a=t("button",{textContent:"Continue"});a.addEventListener("click",n.settings.clearModal);const s=t("div","welcome").append(o,i);return e.modal({name:"welcome",content:s,actions:a})}},optionsBar:{container:({components:t,elements:e,subscriptions:n,ui:r,config:o})=>()=>{const i=e.layout({layout:o.options.layout,components:t.optionsBar.options});return i.className="options-bar visible-false",n.tags.onFirstInsert((()=>{r.toggleBoolClass(i,"visible",!0)})),i},numberOption:({elements:t,services:e,subscriptions:n,util:r,config:o})=>i=>{const{min:a,max:s,step:c}=o.options[i],u=t.number({min:a,max:s,step:c}).addEventListener("change",(t=>{e.settings.changeOption(i,parseInt(t.target.value))}));n.settings.onChange("options",i,(t=>{u.value=t}));const l=r.upperFirst(i);return t.label(l,u)},options:{modes:({el:t,components:e,config:n})=>()=>{const r=n.options.modes.map(e.optionsBar.numberOption);return t("span").append(...r)},outline:({el:t,elements:e,services:n,subscriptions:r})=>()=>{const o=t("input",{type:"checkbox"}).addEventListener("change",(()=>{n.settings.changeOption("outline",o.checked)}));return r.settings.onChange("options","outline",(t=>{o.checked=t})),e.label(o,"Show outline")},shapes:({el:t,components:e,config:n})=>()=>{const r=n.options.shapes.map(e.optionsBar.shapeOption);return t("span").append(...r)},size:({components:t})=>()=>t.optionsBar.numberOption("size"),sort:({el:t,elements:e,services:n,subscriptions:r,config:o})=>()=>{const i=Object.entries(o.options.sort).map((([e,n])=>t("option",{value:e,textContent:n}))),a=t("select").append(...i).addEventListener("change",(()=>{n.settings.changeOption("sort",a.value)}));return r.settings.onChange("options","sort",(t=>{a.value=t})),e.label("Keep sorted by",a)},spacing:({components:t})=>()=>t.optionsBar.numberOption("spacing")},shapeOption:({el:t,subscriptions:e,services:n,ui:r,config:o})=>i=>{const a=t("span","shape-option",{title:`Change shape to ${i}`,tabIndex:0}).addEventListener("click",(()=>{n.settings.changeOption("shape",i)})).addEventListener("keydown",(t=>{["Enter","Space"].includes(t.code)&&(a.click(),t.preventDefault())})),s=o.options.shapeRadius[i]||0;return a.style.borderRadius=`${s}%`,e.settings.onChange("options","shape",(t=>{r.toggleBoolClass(a,"selected",i===t)})),a}},roleList:{container:({el:t,roleList:e,subscriptions:n,ui:r})=>()=>{const o=t("div","role-list visible-false");return n.roles.onInsert((t=>{const n=e.roleCustomiser.container(t);o.append(n)})),n.roles.onFirstInsert((()=>{r.toggleBoolClass(o,"visible",!0)})),o},roleCustomiser:{container:({el:t,roleCustomiser:e,services:n})=>r=>{const o=e.masterRoleName(r),i=e.roleColorPicker(r),a=n.roles.isNilRole(r);return t("span",`role-customiser role${r}`,{hidden:a}).append(o,i)},masterRoleName:({elements:t,services:e,subscriptions:n})=>r=>{const o=t.editableSpan(`role-name role${r}`).addEventListener("change",(()=>{e.roles.changeRoleName(r,o.textContent)}));return n.roles.onChange(r,"roleName",(t=>{o.textContent=t})),o},roleColorPicker:({el:t,vendorComponents:e,services:n})=>r=>{const o=n.roles.getRole(r);return e.vanillaPicker({parent:t("div","color-picker"),color:o.color,onChange:t=>n.roles.changeRoleColor(r,t.hex)})}}},tagList:{container:({el:t,tagList:e,services:n,subscriptions:r,ui:o,util:i,config:a})=>()=>{const s=new Map,c=t("div","tag-list");r.tagInstances.onInsert((t=>{const n=e.tag.container(t);s.set(t,n),c.append(n),l()})),r.tagInstances.onBeforeRemove((t=>{s.get(t).remove(),s.delete(t)}));const u=()=>{o.refocus((()=>{n.tags.sortTagInstances().forEach((t=>{c.append(s.get(t.id))}))}))},l=i.debounce(u,a.debounce.sortTagList);return r.settings.onChange("options","sort",u),r.tagInstances.onChangeAny("tagName",l),r.tagInstances.onChangeAny("roleName",l),c},tag:{components:{roleName:({elements:t,services:e,subscriptions:n})=>r=>{const o=t.editableSpan("role-name").addEventListener("change",(()=>{e.tags.changeTagRole(r,o.textContent)}));return n.tagInstances.onChange(r,"roleName",(t=>{o.textContent=t})),o},tagImage:({el:t})=>()=>t("div","tag-image"),tagName:({elements:t,services:e,subscriptions:n})=>r=>{const o=t.editableSpan("tag-name").addEventListener("change",(()=>{e.tags.changeTagName(r,o.textContent)}));return n.tagInstances.onChange(r,"tagName",(t=>{o.textContent=t})),o}},container:({el:t,tag:e,elements:n,services:r,subscriptions:o,config:i})=>a=>{const s=n.layout({layout:i.tags.layout,components:e.components,componentArgs:[a]}),c=t("div").append(s);return o.tagInstances.onChange(a,"roleId",((t,{tagId:e,mode:n})=>{const o=r.roles.isNilRole(t);c.className=`tag tag${e} role${t} nil-role-${o} ${n}`})),c}}},tips:{badges:({el:t})=>()=>t("div",{title:"Blocked and other badges",innerHTML:"\n            <p>Create blocked and other badges in the same way as avatars.</p>\n            <img src='img/tips/blocked-risk.png' />\n        "}),images:({el:t})=>()=>t("div",{title:"Images",innerHTML:"\n            <p>\n                Have you ever joined a new team and struggled to remember everyone's names?\n                You're not alone! Profile <mark>photos are the most effective</mark> way to identify people.\n                Cartoon characters may be cute, but unless your team never changes, they're unhelpful.\n            </p>            \n            <p>            \n                For a better looking result, <mark>make sure your images are square</mark> in shape.\n            </p>"}),laminating:({el:t})=>()=>t("div",{title:"Laminating",innerHTML:"\n            <p>\n                For a more durable result, <mark>cut out the tags before your laminate them</mark>.\n                Keeping a small lip around the edges helps maintain adhesion.\n            </p>"}),multiples:({el:t})=>()=>t("div","multiples",{title:"Multiples",innerHTML:'\n            <p>\n                Only needing a single avatar per team member may be a sign that user stories are well defined,\n                and that team members can take stories to completion without context switching.\n                It also makes it easier to gauge who is focused on what and can serve as a natural WIP limit for the\n                team.\n                See <a target="_blank" href="https://en.wikipedia.org/wiki/INVEST_(mnemonic)">INVEST</a> for\n                characteristics of good quality user stories.\n            </p>\n\n            <p>\n                If multiples are really needed, consider one <mark>active</mark>, and one or more <mark>passive</mark>\n                avatars for each team member.\n                The active avatar indicates what a team member is focused on, while\n                the passive avatar may be used to indicate the team member is across an activity which has\n                become blocked, dependent on another team, or otherwise only requires ad hoc attention.\n            </p>\n            \n            <img src=\'img/tips/active-passive.png\' />\n        '}),naming:({el:t})=>()=>t("div",{title:"Naming",innerHTML:"\n            <p>\n                Prefer <mark>short names</mark> and <mark>abbreviated roles</mark>. \n                Less is more. Use just enough detail to identify people at a glance.\n                Avoid full names and position titles if possible.\n            </p>"}),roleShortcut:({el:t})=>()=>t("div",{title:"Role shortcut",innerHTML:"\n            <p>Roles can be set quickly by appending <mark>+role</mark> to a name. This applies to:</p>\n\n            <ul>\n                <li>File names, e.g. matt+dev.jpg</li>\n                <li>Directly on the name field of each tag, e.g. matt+dev</li>\n                <li>Gravatar emails, e.g. matt@fakemail.com+dev</li>\n            </ul>\n        "})}},Je={};!function(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,n,r,o,i,a){return e((s=e(e(n,t),e(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function r(t,e,r,o,i,a,s){return n(e&r|~e&o,t,e,i,a,s)}function o(t,e,r,o,i,a,s){return n(e&o|r&~o,t,e,i,a,s)}function i(t,e,r,o,i,a,s){return n(e^r^o,t,e,i,a,s)}function a(t,e,r,o,i,a,s){return n(r^(e|~o),t,e,i,a,s)}function s(t,n){var s,c,u,l,p;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var f=1732584193,d=-271733879,h=-1732584194,v=271733878;for(s=0;s<t.length;s+=16)c=f,u=d,l=h,p=v,f=r(f,d,h,v,t[s],7,-680876936),v=r(v,f,d,h,t[s+1],12,-389564586),h=r(h,v,f,d,t[s+2],17,606105819),d=r(d,h,v,f,t[s+3],22,-1044525330),f=r(f,d,h,v,t[s+4],7,-176418897),v=r(v,f,d,h,t[s+5],12,1200080426),h=r(h,v,f,d,t[s+6],17,-1473231341),d=r(d,h,v,f,t[s+7],22,-45705983),f=r(f,d,h,v,t[s+8],7,1770035416),v=r(v,f,d,h,t[s+9],12,-1958414417),h=r(h,v,f,d,t[s+10],17,-42063),d=r(d,h,v,f,t[s+11],22,-1990404162),f=r(f,d,h,v,t[s+12],7,1804603682),v=r(v,f,d,h,t[s+13],12,-40341101),h=r(h,v,f,d,t[s+14],17,-1502002290),f=o(f,d=r(d,h,v,f,t[s+15],22,1236535329),h,v,t[s+1],5,-165796510),v=o(v,f,d,h,t[s+6],9,-1069501632),h=o(h,v,f,d,t[s+11],14,643717713),d=o(d,h,v,f,t[s],20,-373897302),f=o(f,d,h,v,t[s+5],5,-701558691),v=o(v,f,d,h,t[s+10],9,38016083),h=o(h,v,f,d,t[s+15],14,-660478335),d=o(d,h,v,f,t[s+4],20,-405537848),f=o(f,d,h,v,t[s+9],5,568446438),v=o(v,f,d,h,t[s+14],9,-1019803690),h=o(h,v,f,d,t[s+3],14,-187363961),d=o(d,h,v,f,t[s+8],20,1163531501),f=o(f,d,h,v,t[s+13],5,-1444681467),v=o(v,f,d,h,t[s+2],9,-51403784),h=o(h,v,f,d,t[s+7],14,1735328473),f=i(f,d=o(d,h,v,f,t[s+12],20,-1926607734),h,v,t[s+5],4,-378558),v=i(v,f,d,h,t[s+8],11,-2022574463),h=i(h,v,f,d,t[s+11],16,1839030562),d=i(d,h,v,f,t[s+14],23,-35309556),f=i(f,d,h,v,t[s+1],4,-1530992060),v=i(v,f,d,h,t[s+4],11,1272893353),h=i(h,v,f,d,t[s+7],16,-155497632),d=i(d,h,v,f,t[s+10],23,-1094730640),f=i(f,d,h,v,t[s+13],4,681279174),v=i(v,f,d,h,t[s],11,-358537222),h=i(h,v,f,d,t[s+3],16,-722521979),d=i(d,h,v,f,t[s+6],23,76029189),f=i(f,d,h,v,t[s+9],4,-640364487),v=i(v,f,d,h,t[s+12],11,-421815835),h=i(h,v,f,d,t[s+15],16,530742520),f=a(f,d=i(d,h,v,f,t[s+2],23,-995338651),h,v,t[s],6,-198630844),v=a(v,f,d,h,t[s+7],10,1126891415),h=a(h,v,f,d,t[s+14],15,-1416354905),d=a(d,h,v,f,t[s+5],21,-57434055),f=a(f,d,h,v,t[s+12],6,1700485571),v=a(v,f,d,h,t[s+3],10,-1894986606),h=a(h,v,f,d,t[s+10],15,-1051523),d=a(d,h,v,f,t[s+1],21,-2054922799),f=a(f,d,h,v,t[s+8],6,1873313359),v=a(v,f,d,h,t[s+15],10,-30611744),h=a(h,v,f,d,t[s+6],15,-1560198380),d=a(d,h,v,f,t[s+13],21,1309151649),f=a(f,d,h,v,t[s+4],6,-145523070),v=a(v,f,d,h,t[s+11],10,-1120210379),h=a(h,v,f,d,t[s+2],15,718787259),d=a(d,h,v,f,t[s+9],21,-343485551),f=e(f,c),d=e(d,u),h=e(h,l),v=e(v,p);return[f,d,h,v]}function c(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function u(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function l(t){var e,n,r="0123456789abcdef",o="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function p(t){return unescape(encodeURIComponent(t))}function f(t){return function(t){return c(s(u(t),8*t.length))}(p(t))}function d(t,e){return function(t,e){var n,r,o=u(t),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=s(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=s(i.concat(u(e)),512+8*e.length),c(s(a.concat(r),640))}(p(t),p(e))}function h(t,e,n){return e?n?d(e,t):l(d(e,t)):n?f(t):l(f(t))}"function"==typeof define&&define.amd?define((function(){return h})):Je?Je=h:t.md5=h}(Je);const Ze=({tag:t,mode:e,count:n})=>{const r=n-t[e].length;return r?r>0?{insert:Array(r).fill({tagId:t.id,mode:e})}:{remove:t[e].slice(r)}:{}};var Qe={gravatar:{buildImageUrl:({core:t,config:e})=>(n,r)=>{const{domain:o,size:i}=e.gravatar;return`${o}/avatar/${t.gravatar.hashEmail(n)}?r=g&s=${i}&d=${r}`},buildProfileUrl:({config:t,core:e})=>n=>{const{domain:r}=t.gravatar;return`${r}/${e.gravatar.hashEmail(n)}.json`},getNameFromProfile:()=>(t,e)=>t.name?.givenName||t.displayName||e,hashEmail:()=>t=>n(Je)(t.trim().toLowerCase())},roles:{assignColor:({core:t,config:e})=>n=>r=>{const o=e.roles.presetColors[r.roleName],i=t.roles.randomColor(n),a=o||r.color||i;return{...r,color:a}},buildRole:({core:t,util:e})=>(n,r)=>e.pipe((t=>{const e=(t.roleName||"").trim().toUpperCase();return{...t,roleName:e}}),t.roles.assignColor(r))(n),randomColor:()=>t=>"#"+("00000"+(16777216*t|0).toString(16)).slice(-6)},tags:{buildTag:({util:t})=>e=>{const n=t.upperFirst((e.tagName||"").trim());return{...e,tagName:n,instances:[],active:[],passive:[]}},parseEmailExpression:({util:t})=>e=>{const n=e.indexOf("@"),r=n>-1,[o]=(r?e.substr(0,n):e).split("+"),i=e.lastIndexOf("+"),a=i>n,[s,c]=a?t.splitAt(e,i,1):[e];return{email:r?s:"",username:o,emailOrUsername:s,roleName:c}},parseFileExpression:()=>t=>{const[e,n]=t.split("/").pop().match(/^(\d+)?(.+)/)[2].split(".")[0].split("+").map((t=>t.trim()));return{tagName:e,roleName:n}},parseTagExpression:()=>t=>{const[e,n]=t.split("+").map((t=>t.trim()));return{tagName:e,roleName:n}},planTagInstanceAdjustment:()=>(t,e)=>t.flatMap((t=>Object.entries(e).flatMap((([e,n])=>Ze({tag:t,mode:e,count:n}))))),sortTagInstancesByTagThenMode:({config:t})=>(e,n)=>e.flatMap((e=>t.options.modes.flatMap((t=>e[t].map((t=>n(t))))))),sortTagsByName:()=>t=>t.sort(((t,e)=>t.tagName.localeCompare(e.tagName))),sortTagsByRoleThenName:()=>(t,e)=>t.sort(((t,n)=>{const{roleName:r}=e(t.roleId),{roleName:o}=e(n.roleId),i=r.localeCompare(o),a=t.tagName.localeCompare(n.tagName);return i||a}))}},tn={dumpState:({stores:t,util:e})=>()=>e.mapValues(t,(t=>t.list()))},en={dropzone:({el:t})=>()=>{const e=t=>t.preventDefault();return t("div","dropzone").addEventListener("dragenter",e).addEventListener("dragover",e).addEventListener("drop",e)},editableSpan:({el:t,ui:e})=>n=>{const r=()=>o.dispatchEvent(e.event("change")),o=t("span",n).addEventListener("blur",(()=>{r()})).addEventListener("keydown",(t=>{"Enter"===t.code&&(t.preventDefault(),r())}));return o.setAttribute("contenteditable",!0),o},label:({el:t})=>(...e)=>{const n=e.map((e=>"string"==typeof e?t("span","label",{innerHTML:e}):e));return t("label").append(...n)},layout:({el:t})=>({layout:e,components:n,componentArgs:r=[]})=>{const o=e.split("|").map((t=>t.trim().split(" "))).map((e=>{const o=e.map((t=>n[t](...r)));return t("span","group").append(...o)}));return t("div","layout").append(...o)},modal:({el:t,ui:e})=>(n={})=>{const r={visible:!1,onVisibilityChange:()=>{}},{title:o,content:i,actions:a,visible:s,onVisibilityChange:c}={...r,...n},u=()=>{v.dispatchEvent(e.event("dismiss"))},l=t("span","dismiss").addEventListener("click",u),p=t("div","modal-title").append(o,l);e.toggleBoolClass(p,"visible",Boolean(o));const f=t("div","modal-content").append(i),d=t("div","modal-actions").append(a);e.toggleBoolClass(d,"visible",Boolean(a));const h=t("div","modal-prompt").append(p,f,d).addEventListener("click",(t=>t.stopPropagation())),v=t("div","modal-overlay").append(h).addEventListener("click",u),g=t=>{e.toggleBoolClass(v,"visible",t)};return g(s),c(g,v),v},number:({el:t,ui:e,util:n})=>({min:r,max:o,step:i})=>{const a=()=>parseInt(u.value),s=n.pipe((t=>isNaN(t)?r:t),(t=>t<r?r:t),(t=>t>o?o:t)),c=()=>{const t=a();t===s(t)&&u.dispatchEvent(e.event("change"))},u=t("input",{type:"number",min:r,max:o,step:i}).addEventListener("input",c).addEventListener("blur",(()=>{u.value=s(a()),c()}));return u}},nn={setup:({window:t})=>()=>({date:()=>new t.Date,fetch:(...e)=>t.fetch(...e),random:()=>t.Math.random(),fileReader:()=>new t.FileReader})};const rn={ready:"ready",working:"working",error:"error"};var on,an={gravatar:{changeFallback:({stores:t})=>e=>{t.settings.update("gravatar",{fallback:e})},changeFreetext:({stores:t})=>e=>{t.settings.update("gravatar",{freetext:e})},fetchImageAsync:({core:t,io:e})=>async(n,r)=>{const o=t.gravatar.buildImageUrl(n,r),i=await e.fetch(o);if(!i.ok)throw new Error(`Unexpected Gravatar response status ${i.status}.`);return i.blob()},fetchProfileAsync:({core:t,io:e})=>async n=>{if(!n)return{};const r=t.gravatar.buildProfileUrl(n),o=await e.fetch(r);if(404===o.status)return{};if(!o.ok)throw new Error(`Unexpected Gravatar response status ${o.status}.`);const i=await o.json(),[a]=i.entry;return a},status:({stores:t})=>{const e=Object.keys(rn).reduce(((e,n)=>Object.assign(e,{[n]:()=>t.settings.find("gravatar").status===n})),{}),n={ready:()=>{const{freetext:n}=t.settings.find("gravatar");t.settings.update("gravatar",{status:rn.ready,freetext:e.error()?n:"",errorMessage:""})},working:()=>{t.settings.update("gravatar",{status:rn.working})},error:e=>{t.settings.update("gravatar",{status:rn.error,errorMessage:e})}};return{is:e,to:n}}},roles:{changeRoleColor:({stores:t})=>(e,n)=>{t.roles.update(e,{color:n})},changeRoleName:({core:t,stores:e})=>(n,r)=>{const o=e.roles.find(n),i=t.roles.buildRole({...o,roleName:r});e.roles.update(n,i)},findOrInsertRoleWithName:({services:t,stores:e})=>(n="")=>{const r=e.roles.list().find((t=>n.toUpperCase()===t.roleName.toUpperCase()));return r?r.id:t.roles.insertRole({roleName:n})},getNilRoleId:({stores:t})=>()=>t.settings.find("app").nilRoleId,getRole:({stores:t})=>e=>t.roles.find(e),insertRole:({core:t,services:e,subscriptions:n,stores:r,io:o})=>i=>{const a=t.roles.buildRole(i,o.random());return r.roles.insert(a,(t=>{n.roles.onChange(t,"roleName",e.roles.setupRolePropagation(t))}))},isNilRole:({services:t})=>e=>e===t.roles.getNilRoleId(),setupRolePropagation:({stores:t})=>e=>()=>{const{roleName:n}=t.roles.find(e),r={roleName:n};t.tagInstances.list().filter((t=>t.roleId===e)).forEach((e=>t.tagInstances.update(e.id,r)))}},settings:{changeModal:({stores:t})=>e=>{t.settings.update("app",{modal:e})},changeOption:({stores:t})=>(e,n)=>{t.settings.update("options",{[e]:n})},clearModal:({stores:t})=>()=>{t.settings.update("app",{modal:null})},getGravatar:({stores:t})=>()=>{const e=t.settings.find("gravatar");return{emails:e.freetext.split(/[\r\n,;]+/g).map((t=>t.trim())).filter((t=>t)),...e}}},tags:{adjustTagInstanceCounts:({core:t,config:e,stores:n,services:r})=>()=>{const o=n.tags.list(),i=n.settings.find("options"),a=Object.fromEntries(e.options.modes.map((t=>[t,i[t]])));t.tags.planTagInstanceAdjustment(o,a).forEach((t=>{(t={insert:[],remove:[],...t}).insert.forEach(r.tags.insertTagInstance),t.remove.forEach(r.tags.removeTagInstance)}))},attachImageAsync:({stores:t,io:e})=>n=>r=>new Promise(((o,i)=>{const a=e.fileReader();a.readAsDataURL(n),a.addEventListener("load",(()=>{const e=a.result;t.tags.update(r,{image:e}),o()})),a.addEventListener("error",(()=>{i(a.error)}))})),buildTagInstance:({stores:t})=>e=>{const{tagId:n,mode:r}=e,{tagName:o,roleId:i}=t.tags.find(n),{roleName:a}=t.roles.find(i);return{tagId:n,tagName:o,roleId:i,roleName:a,mode:r}},changeTagName:({core:t,services:e,stores:n})=>(r,o)=>{const{tagId:i}=e.tags.getTagInstance(r),{tagName:a,roleName:s}=t.tags.parseTagExpression(o);if(n.tags.update(i,{tagName:a}),s){const t=e.roles.findOrInsertRoleWithName(s);n.tags.update(i,{roleId:t})}},changeTagRole:({services:t,stores:e})=>(n,r)=>{const o=t.roles.findOrInsertRoleWithName(r),{tagId:i}=e.tagInstances.find(n);e.tags.update(i,{roleId:o})},getTagInstance:({stores:t})=>e=>t.tagInstances.find(e),insertFileAsync:({core:t,services:e,util:n})=>r=>n.pipe(t.tags.parseFileExpression,e.tags.insertTag,e.tags.attachImageAsync(r))(r.name),insertFileBatchAsync:({services:t})=>e=>Array.from(e).map(t.tags.insertFileAsync),insertGravatarAsync:({core:t,services:e})=>(n,r)=>{const{email:o,username:i,emailOrUsername:a,roleName:s}=t.tags.parseEmailExpression(n),c=e.gravatar.fetchProfileAsync(o).then((n=>{const r=t.gravatar.getNameFromProfile(n,i);return e.tags.insertTag({tagName:r,roleName:s})}));return e.gravatar.fetchImageAsync(a,r).then((async t=>{const n=await c;return e.tags.attachImageAsync(t)(n)}))},insertGravatarBatchAsync:({services:t,config:e})=>async(n,r)=>{try{t.gravatar.status.to.working();const e=async e=>{try{await t.tags.insertGravatarAsync(e,r)}catch(t){}};await Promise.all(n.map(e)),t.gravatar.status.to.ready(),t.settings.clearModal()}catch(n){throw t.gravatar.status.to.error(e.gravatar.errorMessage),n}},insertTag:({core:t,services:e,stores:n,subscriptions:r,util:o})=>i=>o.pipe((({roleName:t,...n})=>({roleId:n.roleId||e.roles.findOrInsertRoleWithName(t),...n})),t.tags.buildTag,(t=>n.tags.insert(t,(t=>{r.tags.onChange(t,"tagName",e.tags.setupTagPropagation(t)),r.tags.onChange(t,"roleId",e.tags.setupRolePropagation(t))}))))(i||{}),insertTagInstance:({services:t,stores:e})=>n=>{const r=t.tags.buildTagInstance(n);return e.tagInstances.insert(r,(t=>{const{tagId:n,mode:o}=r,i=e.tags.find(n);e.tags.update(n,{instances:i.instances.concat(t),[o]:i[o].concat(t)})}))},removeTagInstance:({stores:t})=>e=>{const{tagId:n,mode:r}=t.tagInstances.find(e),o=t.tags.find(n),i=t=>t!==e;t.tags.update(n,{instances:o.instances.filter(i),[r]:o[r].filter(i)}),t.tagInstances.remove(e)},setupRolePropagation:({stores:t})=>e=>()=>{const{roleId:n,instances:r}=t.tags.find(e),{roleName:o}=t.roles.find(n);r.forEach((e=>t.tagInstances.update(e,{roleId:n,roleName:o})))},setupTagPropagation:({stores:t})=>e=>()=>{const{tagName:n,instances:r}=t.tags.find(e);r.forEach((e=>t.tagInstances.update(e,{tagName:n})))},sortTagInstances:({core:t,stores:e})=>()=>{const n={orderAdded:e.tags.list,roleThenName:()=>t.tags.sortTagsByRoleThenName(e.tags.list(),e.roles.find),name:()=>t.tags.sortTagsByName(e.tags.list())},{sort:r}=e.settings.find("options"),o=n[r]();return t.tags.sortTagInstancesByTagThenMode(o,e.tagInstances.find)}}},sn={createHandlers:({services:t,subscriptions:e,util:n,config:r})=>()=>{const o=n.debounce(t.tags.adjustTagInstanceCounts,r.debounce.adjustTagInstanceCounts);r.options.modes.forEach((t=>{e.settings.onChange("options",t,o)})),e.tags.onInsert(o)},createStyleManager:({styles:t,subscriptions:e,ui:n,util:r})=>()=>{const{tagImage:o,roleColor:i,...a}=t,s=(...t)=>n.appendToHead(...t);s(...Object.values(a).map((t=>t()))),e.tags.onInsert(r.pipe(o,s)),e.roles.onInsert(r.pipe(i,s))},insertNilRole:({config:t,stores:e})=>()=>{const n=e.roles.insert(t.roles.nilRole);e.settings.update("app",{nilRoleId:n})},start:({startup:t})=>()=>(t.insertNilRole(),t.createHandlers(),t.createStyleManager(),{createRoot:t=>({render:e=>t.append(e)})})},cn={},un="object"==typeof Reflect?Reflect:null,ln=un&&"function"==typeof un.apply?un.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};on=un&&"function"==typeof un.ownKeys?un.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var pn=Number.isNaN||function(t){return t!=t};function fn(){fn.init.call(this)}(cn=fn).once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}kn(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&kn(t,"error",e,n)}(t,o,{once:!0})}))},fn.EventEmitter=fn,fn.prototype._events=void 0,fn.prototype._eventsCount=0,fn.prototype._maxListeners=void 0;var dn=10;function hn(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function vn(t){return void 0===t._maxListeners?fn.defaultMaxListeners:t._maxListeners}function gn(t,e,n,r){var o,i,a,s;if(hn(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=vn(t))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function mn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yn(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=mn.bind(r);return o.listener=n,r.wrapFn=o,o}function _n(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):wn(o,o.length)}function bn(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function wn(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function kn(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(fn,"defaultMaxListeners",{enumerable:!0,get:function(){return dn},set:function(t){if("number"!=typeof t||t<0||pn(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");dn=t}}),fn.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},fn.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||pn(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},fn.prototype.getMaxListeners=function(){return vn(this)},fn.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[t];if(void 0===s)return!1;if("function"==typeof s)ln(s,this,e);else{var c=s.length,u=wn(s,c);for(n=0;n<c;++n)ln(u[n],this,e)}return!0},fn.prototype.addListener=function(t,e){return gn(this,t,e,!1)},fn.prototype.on=fn.prototype.addListener,fn.prototype.prependListener=function(t,e){return gn(this,t,e,!0)},fn.prototype.once=function(t,e){return hn(e),this.on(t,yn(this,t,e)),this},fn.prototype.prependOnceListener=function(t,e){return hn(e),this.prependListener(t,yn(this,t,e)),this},fn.prototype.removeListener=function(t,e){var n,r,o,i,a;if(hn(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},fn.prototype.off=fn.prototype.removeListener,fn.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},fn.prototype.listeners=function(t){return _n(this,t,!0)},fn.prototype.rawListeners=function(t){return _n(this,t,!1)},fn.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):bn.call(t,e)},fn.prototype.listenerCount=bn,fn.prototype.eventNames=function(){return this._eventsCount>0?on(this._events):[]};var xn,En={stateStore:(t={})=>{let e=1;const r=new Map,o=new Map,i=new(n(cn)),a=t=>o.get(t)||{get:()=>null},s={onChange:(t,e,n)=>a(t).subscriptions.onChange(e,n),onChangeAny:(t,e)=>i.on(`change:${t}`,e),onInsert:t=>i.on("insert",t),onFirstInsert:t=>i.once("firstInsert",t),onBeforeRemove:t=>i.on("beforeRemove",t)},c=(t,a)=>{const s=t.id||e++,c={id:s,...t},u=new(n(cn)),l={onChange:(t,e)=>{u.on(`change:${t}`,e),e(c[t],c)}};return o.set(s,{get:()=>({...c}),update:t=>{Object.entries(t).forEach((([t,e])=>{if(c[t]===e)return;c[t]=e;[u,i].forEach((e=>e.emit(`change:${t}`,c[t],c)))}))},subscriptions:l}),r.set(s,c),a&&a(s),i.emit("firstInsert",s),i.emit("insert",s),s};return Object.entries(t).map((([t,e])=>({id:t,...e}))).forEach((t=>c(t))),{insert:c,remove:t=>{i.emit("beforeRemove",t),o.delete(t),r.delete(t)},list:()=>[...r.values()],find:t=>a(t).get(),update:(t,e)=>a(t).update(e),subscriptions:s}}},Sn={setup:({storage:t,config:e})=>()=>Object.fromEntries(e.storage.stores.map((n=>{const r=e.storage.defaults[n];return[n,t.stateStore(r)]})))},On=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},jn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Tn=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var Cn={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Ln(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return n||"0"}var In=function(){function t(e,n,r,o){On(this,t);var i=this;if(void 0===e);else if(Array.isArray(e))this.rgba=e;else if(void 0===r){var a=e&&""+e;a&&function(e){if(e.startsWith("hsl")){var n=e.match(/([\-\d\.e]+)/g).map(Number),r=Tn(n,4),o=r[0],a=r[1],s=r[2],c=r[3];void 0===c&&(c=1),o/=360,a/=100,s/=100,i.hsla=[o,a,s,c]}else if(e.startsWith("rgb")){var u=e.match(/([\-\d\.e]+)/g).map(Number),l=Tn(u,4),p=l[0],f=l[1],d=l[2],h=l[3];void 0===h&&(h=1),i.rgba=[p,f,d,h]}else e.startsWith("#")?i.rgba=t.hexToRgb(e):i.rgba=t.nameToRgb(e)||t.hexToRgb(e)}(a.toLowerCase())}else this.rgba=[e,n,r,void 0===o?1:o]}return jn(t,[{key:"printRGB",value:function(t){var e=(t?this.rgba:this.rgba.slice(0,3)).map((function(t,e){return Ln(t,3===e?3:0)}));return t?"rgba("+e+")":"rgb("+e+")"}},{key:"printHSL",value:function(t){var e=[360,100,100,1],n=["","%","%",""],r=(t?this.hsla:this.hsla.slice(0,3)).map((function(t,r){return Ln(t*e[r],3===r?3:1)+n[r]}));return t?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(t){var e=this.hex;return t?e:e.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(t){3===t.length&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(t){3===t.length&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(t,e){return e<3?t.toString(16):Math.round(255*t).toString(16)})).map((function(t){return t.padStart(2,"0")})).join("")},set:function(e){this.rgba=t.hexToRgb(e)}}],[{key:"hexToRgb",value:function(t){var e=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!e.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+t);var n=e.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(t){return parseInt(t,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(e){var n=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=Cn[n];return void 0===r?r:t.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var e=Tn(t,4),n=e[0],r=e[1],o=e[2],i=e[3];n/=255,r/=255,o/=255;var a=Math.max(n,r,o),s=Math.min(n,r,o),c=void 0,u=void 0,l=(a+s)/2;if(a===s)c=u=0;else{var p=a-s;switch(u=l>.5?p/(2-a-s):p/(a+s),a){case n:c=(r-o)/p+(r<o?6:0);break;case r:c=(o-n)/p+2;break;case o:c=(n-r)/p+4}c/=6}return[c,u,l,i]}},{key:"hslToRgb",value:function(t){var e=Tn(t,4),n=e[0],r=e[1],o=e[2],i=e[3],a=void 0,s=void 0,c=void 0;if(0===r)a=s=c=o;else{var u=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},l=o<.5?o*(1+r):o+r-o*r,p=2*o-l;a=u(p,l,n+1/3),s=u(p,l,n),c=u(p,l,n-1/3)}var f=[255*a,255*s,255*c].map(Math.round);return f[3]=i,f}}]),t}(),Rn=function(){function t(){On(this,t),this._events=[]}return jn(t,[{key:"add",value:function(t,e,n){t.addEventListener(e,n,!1),this._events.push({target:t,type:e,handler:n})}},{key:"remove",value:function(e,n,r){this._events=this._events.filter((function(o){var i=!0;return e&&e!==o.target&&(i=!1),n&&n!==o.type&&(i=!1),r&&r!==o.handler&&(i=!1),i&&t._doRemove(o.target,o.type,o.handler),!i}))}},{key:"destroy",value:function(){this._events.forEach((function(e){return t._doRemove(e.target,e.type,e.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(t,e,n){t.removeEventListener(e,n,!1)}}]),t}();function Nn(t,e,n,r){var o=!1;function i(t,e,n){return Math.max(e,Math.min(t,n))}function a(t,e,a){if(a&&(o=!0),o){t.preventDefault();var s=n.getBoundingClientRect(),c=s.width,u=s.height,l=e.clientX,p=e.clientY,f=i(l-s.left,0,c),d=i(p-s.top,0,u);r(f/c,d/u)}}function s(t,e){1===(void 0===t.buttons?t.which:t.buttons)?a(t,t,e):o=!1}function c(t,e){1===t.touches.length?a(t,t.touches[0],e):o=!1}e.add(n,"mousedown",(function(t){s(t,!0)})),e.add(n,"touchstart",(function(t){c(t,!0)})),e.add(t,"mousemove",s),e.add(n,"touchmove",c),e.add(t,"mouseup",(function(t){o=!1})),e.add(n,"touchend",(function(t){o=!1})),e.add(n,"touchcancel",(function(t){o=!1}))}function An(t,e){return e.querySelector(t)}function Pn(t){t.preventDefault(),t.stopPropagation()}function Dn(t,e,n,r,o){t.add(e,"keydown",(function(t){n.indexOf(t.key)>=0&&(o&&Pn(t),r(t))}))}var Mn=function(){function t(e){On(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new Rn,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return jn(t,[{key:"setOptions",value:function(t){var e=this;if(t){var n=this.settings;n.parent&&t.parent&&n.parent!==t.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(t,e,n){for(var r in t)n&&n.indexOf(r)>=0||(e[r]=t[r])}(t,n),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var r=t.color||t.colour;r&&this._setColor(r);var o=n.parent;if(o&&n.popup&&!this._popupInited){var i=function(t){return e.openHandler(t)};this._events.add(o,"click",i),Dn(this._events,o,[" ","Spacebar","Enter"],i),this._popupInited=!0}else t.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none";var e=t&&"keydown"===t.type?this._domEdit:this.domElement;setTimeout((function(){return e.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(t){var e=t&&t.type,n=!1;if(t)if("mousedown"===e||"focusin"===e){var r=(this.__containedEvent||0)+100;t.timeStamp>r&&(n=!0)}else Pn(t),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="","mousedown"!==e&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(t,e){this.closeHandler(),this.setOptions(t),e&&this.openHandler()}},{key:"setColor",value:function(t,e){this._setColor(t,{silent:e})}},{key:"_setColor",value:function(t,e){if("string"==typeof t&&(t=t.trim()),t){e=e||{};var n=void 0;try{n=new In(t)}catch(t){if(e.failSilently)return;throw t}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,e)}}},{key:"setColour",value:function(t,e){this.setColor(t,e)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var t=this._toggleDOM(!0);return this._setPosition(),t}var e=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',n=function(t,e){var n=t.createElement("div");return n.innerHTML=e,n.firstElementChild}(this.settings.window.document,e);return this.domElement=n,this._domH=An(".picker_hue",n),this._domSL=An(".picker_sl",n),this._domA=An(".picker_alpha",n),this._domEdit=An(".picker_editor input",n),this._domSample=An(".picker_sample",n),this._domOkay=An(".picker_done button",n),this._domCancel=An(".picker_cancel button",n),n.classList.add("layout_"+this.settings.layout),this.settings.alpha||n.classList.add("no_alpha"),this.settings.editor||n.classList.add("no_editor"),this.settings.cancelButton||n.classList.add("no_cancel"),this._ifPopup((function(){return n.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var t=this,e=this,n=this.domElement,r=this._events;function o(t,e,n){r.add(t,e,n)}o(n,"click",(function(t){return t.preventDefault()})),Nn(this.settings.window,r,this._domH,(function(t,n){return e._setHSLA(t)})),Nn(this.settings.window,r,this._domSL,(function(t,n){return e._setHSLA(null,t,1-n)})),this.settings.alpha&&Nn(this.settings.window,r,this._domA,(function(t,n){return e._setHSLA(null,null,null,1-n)}));var i=this._domEdit;o(i,"input",(function(t){e._setColor(this.value,{fromEditor:!0,failSilently:!0})})),o(i,"focus",(function(t){var e=this;e.selectionStart===e.selectionEnd&&e.select()})),this._ifPopup((function(){var e=function(e){return t.closeHandler(e)};o(t.settings.window,"mousedown",e),o(t.settings.window,"focusin",e),Dn(r,n,["Esc","Escape"],e);var i=function(e){t.__containedEvent=e.timeStamp};o(n,"mousedown",i),o(n,"focusin",i),o(t._domCancel,"click",e)}));var a=function(e){t._ifPopup((function(){return t.closeHandler(e)})),t.onDone&&t.onDone(t.colour)};o(this._domOkay,"click",a),Dn(r,n,["Enter"],a)}},{key:"_setPosition",value:function(){var t=this,e=this.settings.parent,n=this.domElement;e!==n.parentNode&&e.appendChild(n),this._ifPopup((function(r){"static"===t.settings.window.getComputedStyle(e).position&&(e.style.position="relative");var o=!0===r?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(t){t===o?n.classList.add(t):n.classList.remove(t)})),n.classList.add(o)}))}},{key:"_setHSLA",value:function(t,e,n,r,o){o=o||{};var i=this.colour,a=i.hsla;[t,e,n,r].forEach((function(t,e){(t||0===t)&&(a[e]=t)})),i.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(i)}},{key:"_updateUI",value:function(t){if(this.domElement){t=t||{};var e=this.colour,n=e.hsla,r="hsl("+360*n[0]+", 100%, 50%)",o=e.hslString,i=e.hslaString,a=this._domH,s=this._domSL,c=this._domA,u=An(".picker_selector",a),l=An(".picker_selector",s),p=An(".picker_selector",c);y(0,u,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,y(0,l,n[1]),_(0,l,1-n[2]),s.style.color=o,_(0,p,1-n[3]);var f=o,d=f.replace("hsl","hsla").replace(")",", 0)"),h="linear-gradient("+[f,d]+")";if(this._domA.style.backgroundImage=h+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){var v=this.settings.editorFormat,g=this.settings.alpha,m=void 0;switch(v){case"rgb":m=e.printRGB(g);break;case"hsl":m=e.printHSL(g);break;default:m=e.printHex(g)}this._domEdit.value=m}this._domSample.style.color=i}function y(t,e,n){e.style.left=100*n+"%"}function _(t,e,n){e.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(t,e){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):e&&e()}},{key:"_toggleDOM",value:function(t){var e=this.domElement;if(!e)return!1;var n=t?"":"none",r=e.style.display!==n;return r&&(e.style.display=n),r}}],[{key:"StyleElement",get:function(){return _style}},{key:"css",get:function(){return".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}"}}]),t}();xn=Mn;var qn={roleColor:({el:t,subscriptions:e})=>n=>{const r=t("style");return e.roles.onChange(n,"color",(t=>{r.textContent=`\n                .role${n} .tag-image { border-color: ${t}; }            \n                .role${n} .role-name { background-color: ${t}; }\n            `})),r},tagImage:({el:t,subscriptions:e})=>n=>{const r=t("style");return e.tags.onChange(n,"image",(t=>{r.textContent=t?`.tag${n} .tag-image { background-image: url(${t}); }`:""})),r},tagOutline:({el:t,subscriptions:e})=>()=>{const n=t("style");return e.settings.onChange("options","outline",(t=>{n.textContent=t?"":".tag { border-color: transparent; }"})),n},tagShape:({el:t,subscriptions:e,config:n})=>()=>{const r=t("style");return e.settings.onChange("options","shape",(t=>{const e=n.options.shapeRadius[t];r.textContent=`.tag-image { border-radius: ${e}%; }`})),r},tagSize:({el:t,subscriptions:e,config:n})=>()=>{const r=t("style");return e.settings.onChange("options","size",(t=>{const e=t-2*n.tags.imagePadding;r.textContent=`\n            .tag-list { grid-template-columns: repeat(auto-fill, ${t}px); }\n            .tag-image { width: ${e}px; height: ${e}px; }\n        `})),r},tagSpacing:({el:t,subscriptions:e})=>()=>{const n=t("style");return e.settings.onChange("options","spacing",(t=>{n.textContent=`.tag-list { gap: ${t}px; }`})),n},vanillaPicker:({el:t})=>()=>t("style",{textContent:n(xn).css})},Bn={setup:({stores:t,util:e})=>()=>e.mapValues(t,(t=>t.subscriptions))},Un={appendToHead:({window:t})=>(...e)=>t.document.head.append(...e),el:({window:t})=>(e,...n)=>{const r=t.document.createElement(e),o=n.map((t=>"string"==typeof t?{className:t}:t)),i=["append","addEventListener"].map((t=>{const e=r[t].bind(r);return{[t]:(...t)=>(e(...t),r)}}));return Object.assign(r,...o,...i)},event:({window:t})=>(...e)=>new t.Event(...e),refocus:({window:t})=>e=>{const n=t.document.activeElement;e(),n.focus()},toggleBoolClass:()=>(t,e,n)=>{t.classList.remove(`${e}-${Boolean(!n)}`),t.classList.add(`${e}-${Boolean(n)}`)}},Fn={debounce:(t,e)=>{if(!e)return t;let n=null;return(...r)=>{clearTimeout(n),n=setTimeout((()=>t(...r)),e)}},mapValues:(t,e)=>Object.entries(t).reduce(((t,[n,r])=>Object.assign(t,{[n]:e(r)})),{}),pipe:(...t)=>e=>t.reduce(((t,e)=>e(t)),e),splitAt:(t,e,n)=>[t.slice(0,e),t.slice(e+n)],upperFirst:t=>t?t[0].toUpperCase()+t.slice(1):""},zn={gtagScript:({el:t,config:e})=>()=>{const{trackingId:n}=e.gtag;return t("script",{src:`https://www.googletagmanager.com/gtag/js?id=${n}`})},vanillaPicker:({window:t})=>({parent:e,color:r,onChange:o})=>(new(n(xn))({window:t,parent:e,color:r,onChange:o}),e)},Hn={};e(Hn,"Integrations",(function(){return ss})),e(Hn,"Transports",(function(){return Aa}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $n=function(t,e){return($n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Gn(t,e){function n(){this.constructor=t}$n(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Wn=function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wn.apply(this,arguments)};function Xn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Vn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kn(arguments[e]));return t}var Yn={};e(Yn,"FunctionToString",(function(){return Po})),e(Yn,"InboundFilters",(function(){return qo}));var Jn={};function Zn(t){t.then(null,(function(t){console.error(t)}))}e(Jn,"forget",(function(){return Zn})),e(Jn,"getLocationHref",(function(){return hr})),e(Jn,"htmlTreeAsString",(function(){return fr})),e(Jn,"dsnToString",(function(){return _r})),e(Jn,"makeDsn",(function(){return wr})),e(Jn,"SentryError",(function(){return gr})),e(Jn,"getGlobalObject",(function(){return a("k6cxq").getGlobalObject})),e(Jn,"getGlobalSingleton",(function(){return a("k6cxq").getGlobalSingleton})),e(Jn,"addInstrumentationHandler",(function(){return Jr})),e(Jn,"isInstanceOf",(function(){return pr})),e(Jn,"isString",(function(){return ar})),e(Jn,"isPrimitive",(function(){return sr})),e(Jn,"isErrorEvent",(function(){return rr})),e(Jn,"isEvent",(function(){return ur})),e(Jn,"isDOMError",(function(){return or})),e(Jn,"isDOMException",(function(){return ir})),e(Jn,"isError",(function(){return er})),e(Jn,"isPlainObject",(function(){return cr})),e(Jn,"isThenable",(function(){return lr})),e(Jn,"logger",(function(){return kr})),e(Jn,"consoleSandbox",(function(){return Sr})),e(Jn,"addExceptionMechanism",(function(){return po})),e(Jn,"getEventDescription",(function(){return uo})),e(Jn,"parseUrl",(function(){return so})),e(Jn,"addExceptionTypeValue",(function(){return lo})),e(Jn,"checkOrSetAlreadyCaught",(function(){return fo})),e(Jn,"uuid4",(function(){return ao})),e(Jn,"normalizeToSize",(function(){return go})),e(Jn,"normalize",(function(){return vo})),e(Jn,"fill",(function(){return Lr})),e(Jn,"getOriginalFunction",(function(){return Nr})),e(Jn,"extractExceptionKeysForMessage",(function(){return qr})),e(Jn,"markFunctionWrapped",(function(){return Rr})),e(Jn,"addNonEnumerableProperty",(function(){return Ir})),e(Jn,"urlEncode",(function(){return Ar})),e(Jn,"dropUndefinedKeys",(function(){return Br})),e(Jn,"makePromiseBuffer",(function(){return ko})),e(Jn,"severityFromString",(function(){return Eo})),e(Jn,"getFunctionName",(function(){return zr})),e(Jn,"createStackParser",(function(){return Ur})),e(Jn,"eventStatusFromHttpCode",(function(){return So})),e(Jn,"safeJoin",(function(){return Tr})),e(Jn,"truncate",(function(){return jr})),e(Jn,"isMatchingPattern",(function(){return Cr})),e(Jn,"supportsReferrerPolicy",(function(){return Gr})),e(Jn,"supportsFetch",(function(){return Hr})),e(Jn,"isNativeFetch",(function(){return $r})),e(Jn,"resolvedSyncPromise",(function(){return yo})),e(Jn,"SyncPromise",(function(){return wo})),e(Jn,"rejectedSyncPromise",(function(){return _o})),e(Jn,"serializeEnvelope",(function(){return Co})),e(Jn,"getEnvelopeType",(function(){return To})),e(Jn,"createEnvelope",(function(){return jo})),e(Jn,"createClientReportEnvelope",(function(){return Lo})),e(Jn,"updateRateLimits",(function(){return Ao})),e(Jn,"disabledUntil",(function(){return Ro})),e(Jn,"isRateLimited",(function(){return No}));var Qn=a("k6cxq"),tr=Object.prototype.toString;function er(t){switch(tr.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return pr(t,Error)}}function nr(t,e){return tr.call(t)==="[object "+e+"]"}function rr(t){return nr(t,"ErrorEvent")}function or(t){return nr(t,"DOMError")}function ir(t){return nr(t,"DOMException")}function ar(t){return nr(t,"String")}function sr(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function cr(t){return nr(t,"Object")}function ur(t){return"undefined"!=typeof Event&&pr(t,Event)}function lr(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function pr(t,e){try{return t instanceof e}catch(t){return!1}}function fr(t,e){try{for(var n=t,r=[],o=0,i=0,a=" > ".length,s=void 0;n&&o++<5&&!("html"===(s=dr(n,e))||o>1&&i+r.length*a+s.length>=80);)r.push(s),i+=s.length,n=n.parentNode;return r.reverse().join(" > ")}catch(t){return"<unknown>"}}function dr(t,e){var n,r,o,i,a,s=t,c=[];if(!s||!s.tagName)return"";c.push(s.tagName.toLowerCase());var u=e&&e.length?e.filter((function(t){return s.getAttribute(t)})).map((function(t){return[t,s.getAttribute(t)]})):null;if(u&&u.length)u.forEach((function(t){c.push("["+t[0]+'="'+t[1]+'"]')}));else if(s.id&&c.push("#"+s.id),(n=s.className)&&ar(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)c.push("."+r[a]);var l=["type","name","title","alt"];for(a=0;a<l.length;a++)o=l[a],(i=s.getAttribute(o))&&c.push("["+o+'="'+i+'"]');return c.join("")}function hr(){var t=Qn.getGlobalObject();try{return t.document.location.href}catch(t){return""}}var vr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t});var gr=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,vr(r,n.prototype),r}return Gn(e,t),e}(Error),mr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,yr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function _r(t,e){void 0===e&&(e=!1);var n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.publicKey+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a}function br(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function wr(t){var e="string"==typeof t?function(t){var e=yr.exec(t);if(!e)throw new gr("Invalid Sentry Dsn: "+t);var n=Kn(e.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],c=n[4],u=void 0===c?"":c,l="",p=n[5],f=p.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),p=f.pop()),p){var d=p.match(/^\d+/);d&&(p=d[0])}return br({host:s,pass:a,path:l,projectId:p,port:u,protocol:r,publicKey:o})}(t):br(t);return function(t){if(mr){var e=t.port,n=t.projectId,r=t.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new gr("Invalid Sentry Dsn: "+e+" missing")})),!n.match(/^\d+$/))throw new gr("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(t){return"http"===t||"https"===t}(r))throw new gr("Invalid Sentry Dsn: Invalid protocol "+r);if(e&&isNaN(parseInt(e,10)))throw new gr("Invalid Sentry Dsn: Invalid port "+e)}}(e),e}a("k6cxq");Qn=a("k6cxq");var kr,xr=(Qn=a("k6cxq")).getGlobalObject(),Er=["debug","info","warn","error","log","assert"];function Sr(t){var e=Qn.getGlobalObject();if(!("console"in e))return t();var n=e.console,r={};Er.forEach((function(t){var o=n[t]&&n[t].__sentry_original__;t in e.console&&o&&(r[t]=n[t],n[t]=o)}));try{return t()}finally{Object.keys(r).forEach((function(t){n[t]=r[t]}))}}function Or(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return mr?Er.forEach((function(n){e[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t&&Sr((function(){var t;(t=xr.console)[n].apply(t,Vn(["Sentry Logger ["+n+"]:"],e))}))}})):Er.forEach((function(t){e[t]=function(){}})),e}function jr(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function Tr(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function Cr(t,e){return!!ar(t)&&(nr(e,"RegExp")?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}function Lr(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{Rr(o,r)}catch(t){}t[e]=o}}function Ir(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function Rr(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,Ir(t,"__sentry_original__",e)}function Nr(t){return t.__sentry_original__}function Ar(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function Pr(t){var e=t;if(er(t))e=Wn({message:t.message,name:t.name,stack:t.stack},Mr(t));else if(ur(t)){var n=t;e=Wn({type:n.type,target:Dr(n.target),currentTarget:Dr(n.currentTarget)},Mr(n)),"undefined"!=typeof CustomEvent&&pr(t,CustomEvent)&&(e.detail=n.detail)}return e}function Dr(t){try{return e=t,"undefined"!=typeof Element&&pr(e,Element)?fr(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function Mr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function qr(t,e){void 0===e&&(e=40);var n=Object.keys(Pr(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return jr(n[0],e);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:jr(o,e)}return""}function Br(t){var e,n;if(cr(t)){var r={};try{for(var o=Xn(Object.keys(t)),i=o.next();!i.done;i=o.next()){var a=i.value;void 0!==t[a]&&(r[a]=Br(t[a]))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return Array.isArray(t)?t.map(Br):t}kr=mr?Qn.getGlobalSingleton("logger",Or):Or();function Ur(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}));return function(t,e){var r,o,i,a;void 0===e&&(e=0);var s=[];try{for(var c=Xn(t.split("\n").slice(e)),u=c.next();!u.done;u=c.next()){var l=u.value;try{for(var p=(i=void 0,Xn(n)),f=p.next();!f.done;f=p.next()){var d=(0,f.value)(l);if(d){s.push(d);break}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return Fr(s)}}function Fr(t){if(!t.length)return[];var e=t,n=e[0].function||"",r=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return Wn(Wn({},t),{filename:t.filename||e[0].filename,function:t.function||"?"})})).reverse()}function zr(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}function Hr(){if(!("fetch"in Qn.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function $r(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Gr(){if(!Hr())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var Wr,Xr=(Qn=a("k6cxq")).getGlobalObject(),Kr={},Vr={};function Yr(t){if(!Vr[t])switch(Vr[t]=!0,t){case"console":!function(){if(!("console"in Xr))return;Er.forEach((function(t){t in Xr.console&&Lr(Xr.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Zr("console",{args:n,level:t}),e&&e.apply(Xr.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Xr))return;var t=Zr.bind(null,"dom"),e=ro(t,!0);Xr.document.addEventListener("click",e,!1),Xr.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=Xr[e]&&Xr[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Lr(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,a=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},s=a[n]=a[n]||{refCount:0};if(!s.handler){var c=ro(t);s.handler=c,e.call(this,n,c,o)}s.refCount+=1}catch(t){}return e.call(this,n,r,o)}})),Lr(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},a=i[e];a&&(a.refCount-=1,a.refCount<=0&&(t.call(this,e,a.handler,r),a.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Xr))return;var t=XMLHttpRequest.prototype;Lr(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o=e[1],i=r.__sentry_xhr__={method:ar(e[0])?e[0].toUpperCase():e[0],url:e[1]};ar(o)&&"POST"===i.method&&o.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var a=function(){if(4===r.readyState){try{i.status_code=r.status}catch(t){}Zr("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Lr(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(r,e)}})):r.addEventListener("readystatechange",a),t.apply(r,e)}})),Lr(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),Zr("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!function(){if(!Hr())return!1;var t=Qn.getGlobalObject();if($r(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=$r(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){mr&&kr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;Lr(Xr,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:Qr(e),url:to(e)},startTimestamp:Date.now()};return Zr("fetch",Wn({},r)),t.apply(Xr,e).then((function(t){return Zr("fetch",Wn(Wn({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Zr("fetch",Wn(Wn({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=Qn.getGlobalObject(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}())return;var t=Xr.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=Wr,i=String(r);Wr=i,Zr("history",{from:o,to:i})}return t.apply(this,e)}}Xr.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xr.location.href,o=Wr;if(Wr=r,Zr("history",{from:o,to:r}),t)try{return t.apply(this,e)}catch(t){}},Lr(Xr.history,"pushState",e),Lr(Xr.history,"replaceState",e)}();break;case"error":oo=Xr.onerror,Xr.onerror=function(t,e,n,r,o){return Zr("error",{column:r,error:o,line:n,msg:t,url:e}),!!oo&&oo.apply(this,arguments)};break;case"unhandledrejection":io=Xr.onunhandledrejection,Xr.onunhandledrejection=function(t){return Zr("unhandledrejection",t),!io||io.apply(this,arguments)};break;default:return void(mr&&kr.warn("unknown instrumentation type:",t))}}function Jr(t,e){Kr[t]=Kr[t]||[],Kr[t].push(e),Yr(t)}function Zr(t,e){var n,r;if(t&&Kr[t])try{for(var o=Xn(Kr[t]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(e)}catch(e){mr&&kr.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+zr(a)+"\nError:",e)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Qr(t){return void 0===t&&(t=[]),"Request"in Xr&&pr(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function to(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Xr&&pr(t[0],Request)?t[0].url:String(t[0])}var eo,no;function ro(t,e){return void 0===e&&(e=!1),function(n){if(n&&no!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===eo||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(no,n))&&(t({event:n,name:r,global:e}),no=n),clearTimeout(eo),eo=Xr.setTimeout((function(){eo=void 0}),1e3)}}}var oo=null;var io=null;Qn=a("k6cxq");function ao(){var t=Qn.getGlobalObject(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function so(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function co(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function uo(t){var e=t.message,n=t.event_id;if(e)return e;var r=co(t);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function lo(t,e,n){var r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function po(t,e){var n=co(t);if(n){var r=n.mechanism;if(n.mechanism=Wn(Wn(Wn({},{type:"generic",handled:!0}),r),e),e&&"data"in e){var o=Wn(Wn({},r&&r.data),e.data);n.mechanism.data=o}}}function fo(t){if(t&&t.__sentry_captured__)return!0;try{Ir(t,"__sentry_captured__",!0)}catch(t){}return!1}var ho=a("gL7ev");function vo(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);try{return mo("",t,e,n)}catch(t){return{ERROR:"**non-serializable** ("+t+")"}}}function go(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,o=vo(t,e);return r=o,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?go(t,e-1,n):o}function mo(e,n,r,o,i){var a,s;void 0===r&&(r=1/0),void 0===o&&(o=1/0),void 0===i&&(a="function"==typeof WeakSet,s=a?new WeakSet:[],i=[function(t){if(a)return!!s.has(t)||(s.add(t),!1);for(var e=0;e<s.length;e++)if(s[e]===t)return!0;return s.push(t),!1},function(t){if(a)s.delete(t);else for(var e=0;e<s.length;e++)if(s[e]===t){s.splice(e,1);break}}]);var c,u=Kn(i,2),l=u[0],p=u[1],f=n;if(f&&"function"==typeof f.toJSON)try{return f.toJSON()}catch(t){}if(null===n||["number","boolean","string"].includes(typeof n)&&("number"!=typeof(c=n)||c==c))return n;var d=function(e,n){try{return"domain"===e&&n&&"object"==typeof n&&n._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==t&&n===t?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":function(t){return cr(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?"[Function: "+zr(n)+"]":"symbol"==typeof n?"["+String(n)+"]":"bigint"==typeof n?"[BigInt: "+String(n)+"]":"[object "+Object.getPrototypeOf(n).constructor.name+"]"}catch(t){return"**non-serializable** ("+t+")"}}(e,n);if(!d.startsWith("[object "))return d;if(0===r)return d.replace("object ","");if(l(n))return"[Circular ~]";var h=Array.isArray(n)?[]:{},v=0,g=er(n)||ur(n)?Pr(n):n;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){if(v>=o){h[m]="[MaxProperties ~]";break}var y=g[m];h[m]=mo(m,y,r-1,o,i),v+=1}return p(n),h}function yo(t){return new wo((function(e){e(t)}))}function _o(t){return new wo((function(e,n){n(t)}))}var bo,wo=function(){function t(t){var e=this;this._state=0,this._handlers=[],this._resolve=function(t){e._setResult(1,t)},this._reject=function(t){e._setResult(2,t)},this._setResult=function(t,n){0===e._state&&(lr(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._executeHandlers=function(){if(0!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(t){o(t)}else t(n)},function(e){if(n)try{t(n(e))}catch(t){o(t)}else o(e)}]),r._executeHandlers()}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var o,i;return n.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):t(o)}))}))},t}();function ko(t){var e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return _o(new gr("Not adding Promise due to buffer limit reached."));var o=r();return-1===e.indexOf(o)&&e.push(o),o.then((function(){return n(o)})).then(null,(function(){return n(o).then(null,(function(){}))})),o},drain:function(t){return new wo((function(n,r){var o=e.length;if(!o)return n(!0);var i=setTimeout((function(){t&&t>0&&n(!1)}),t);e.forEach((function(t){yo(t).then((function(){--o||(clearTimeout(i),n(!0))}),r)}))}))}}}!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(bo||(bo={}));var xo=["fatal","error","warning","log","info","debug","critical"];function Eo(t){return"warn"===t?bo.Warning:function(t){return-1!==xo.indexOf(t)}(t)?t:bo.Log}function So(t){return t>=200&&t<300?"success":429===t?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}var Oo=a("3Wlpk");function jo(t,e){return void 0===e&&(e=[]),[t,e]}function To(t){var e=Kn(t,2),n=Kn(e[1],1);return Kn(n[0],1)[0].type}function Co(t){var e=Kn(t,2),n=e[0],r=e[1],o=JSON.stringify(n);return r.reduce((function(t,e){var n=Kn(e,2),r=n[0],o=n[1],i=sr(o)?String(o):JSON.stringify(o);return t+"\n"+JSON.stringify(r)+"\n"+i}),o)}Oo=a("3Wlpk");function Lo(t,e,n){return jo(e?{dsn:e}:{},[[{type:"client_report"},{timestamp:n||Oo.dateTimestampInSeconds(),discarded_events:t}]])}var Io;function Ro(t,e){return t[e]||t.all||0}function No(t,e,n){return void 0===n&&(n=Date.now()),Ro(t,e)>n}function Ao(t,e,n){var r,o,i,a;void 0===n&&(n=Date.now());var s=Wn({},t),c=e["x-sentry-rate-limits"],u=e["retry-after"];if(c)try{for(var l=Xn(c.trim().split(",")),p=l.next();!p.done;p=l.next()){var f=p.value.split(":",2),d=parseInt(f[0],10),h=1e3*(isNaN(d)?60:d);if(f[1])try{for(var v=(i=void 0,Xn(f[1].split(";"))),g=v.next();!g.done;g=v.next()){s[g.value]=n+h}}catch(t){i={error:t}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}else s.all=n+h}}catch(t){r={error:t}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}else u&&(s.all=n+function(t,e){void 0===e&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}(u,n));return s}r(Jn,ho),r(Jn,Oo);var Po=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Io=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Nr(this)||this;return Io.apply(n,t)}},t.id="FunctionToString",t}(),Do="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Mo=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],qo=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n();if(r){var o=r.getIntegration(t);if(o){var i=r.getClient(),a=i?i.getOptions():{},s=function(t,e){void 0===t&&(t={});void 0===e&&(e={});return{allowUrls:Vn(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Vn(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Vn(t.ignoreErrors||[],e.ignoreErrors||[],Mo),ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(o._options,a);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return Do&&kr.warn("Event dropped due to being internal Sentry Error.\nEvent: "+uo(t)),!0;if(function(t,e){return!(!e||!e.length)&&function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,o=e.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(e){return Do&&kr.error("Cannot extract message for event "+uo(t)),[]}return[]}(t).some((function(t){return e.some((function(e){return Cr(t,e)}))}))}(t,e.ignoreErrors))return Do&&kr.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+uo(t)),!0;if(function(t,e){if(!e||!e.length)return!1;var n=Uo(t);return!!n&&e.some((function(t){return Cr(n,t)}))}(t,e.denyUrls))return Do&&kr.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+uo(t)+".\nUrl: "+Uo(t)),!0;if(!function(t,e){if(!e||!e.length)return!0;var n=Uo(t);return!n||e.some((function(t){return Cr(n,t)}))}(t,e.allowUrls))return Do&&kr.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+uo(t)+".\nUrl: "+Uo(t)),!0;return!1}(e,s)?null:e}}return e}))},t.id="InboundFilters",t}();function Bo(t){void 0===t&&(t=[]);for(var e=t.length-1;e>=0;e--){var n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function Uo(t){try{if(t.stacktrace)return Bo(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?Bo(e):null}catch(e){return Do&&kr.error("Cannot extract url for event "+uo(t)),null}}Oo=a("3Wlpk"),Qn=a("k6cxq");var Fo=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Vn(e._breadcrumbs),n._tags=Wn({},e._tags),n._extra=Wn({},e._extra),n._contexts=Wn({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Vn(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=Wn(Wn({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Wn(Wn({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Wn(Wn({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Wn(Wn({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Wn(Wn({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Wn(Wn({},this._tags),e._tags),this._extra=Wn(Wn({},this._extra),e._extra),this._contexts=Wn(Wn({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):cr(e)&&(this._tags=Wn(Wn({},this._tags),e.tags),this._extra=Wn(Wn({},this._extra),e.extra),this._contexts=Wn(Wn({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"==typeof e?Math.min(e,100):100;if(n<=0)return this;var r=Wn({timestamp:Oo.dateTimestampInSeconds()},t);return this._breadcrumbs=Vn(this._breadcrumbs,[r]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){if(this._extra&&Object.keys(this._extra).length&&(t.extra=Wn(Wn({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Wn(Wn({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Wn(Wn({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Wn(Wn({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Wn({trace:this._span.getTraceContext()},t.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=Wn({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Vn(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Vn(zo(),this._eventProcessors),t,e)},t.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=Wn(Wn({},this._sdkProcessingMetadata),t),this},t.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new wo((function(i,a){var s=t[r];if(null===e||"function"!=typeof s)i(e);else{var c=s(Wn({},e),n);lr(c)?c.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,a):o._notifyEventProcessors(t,c,n,r+1).then(i).then(null,a)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function zo(){return Qn.getGlobalSingleton("globalEventProcessors",(function(){return[]}))}function Ho(t){zo().push(t)}Oo=a("3Wlpk");var $o=function(){function t(t){this.errors=0,this.sid=ao(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=Oo.timestampInSeconds();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Oo.timestampInSeconds(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:ao()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):"ok"===this.status?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return Br({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),Go=(Oo=a("3Wlpk"),Qn=a("k6cxq"),ho=a("gL7ev"),"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__),Wo=function(){function t(t,e,n){void 0===e&&(e=new Fo),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=Fo.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=e&&e.event_id?e.event_id:ao(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,Wn(Wn({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=n&&n.event_id?n.event_id:ao(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,Wn(Wn({},o),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=e&&e.event_id?e.event_id:ao();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,Wn(Wn({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,o=n.client;if(r&&o){var i=o.getOptions&&o.getOptions()||{},a=i.beforeBreadcrumb,s=void 0===a?null:a,c=i.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=Oo.dateTimestampInSeconds(),p=Wn({timestamp:l},t),f=s?Sr((function(){return s(p,e)})):p;null!==f&&r.addBreadcrumb(f,u)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=Ko(this);try{t(this)}finally{Ko(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return Go&&kr.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},i=o.release,a=o.environment,s=(Qn.getGlobalObject().navigator||{}).userAgent,c=new $o(Wn(Wn(Wn({release:i,environment:a},n&&{user:n.getUser()}),s&&{userAgent:s}),t));if(n){var u=n.getSession&&n.getSession();u&&"ok"===u.status&&u.update({status:"exited"}),this.endSession(),n.setSession(c)}return c},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),i=o.scope,a=o.client;a&&a[t]&&(e=a)[t].apply(e,Vn(n,[i]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Xo(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[t])return o.extensions[t].apply(this,e);Go&&kr.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Xo(){var t=Qn.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Ko(t){var e=Xo(),n=Jo(e);return Zo(e,t),n}function Vo(){var t=Xo();return Yo(t)&&!Jo(t).isOlderThan(4)||Zo(t,new Wo),ho.isNodeEnv()?function(t){try{var e=Xo().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return Jo(t);if(!Yo(n)||Jo(n).isOlderThan(4)){var r=Jo(t).getStackTop();Zo(n,new Wo(r.client,Fo.clone(r.scope)))}return Jo(n)}catch(e){return Jo(t)}}(t):Jo(t)}function Yo(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Jo(t){return Qn.getGlobalSingleton("hub",(function(){return new Wo}),t)}function Zo(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}function Qo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Vo();if(r&&r[t])return r[t].apply(r,Vn(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function ti(t,e){return Qo("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function ei(t,e){var n=new Error(t);return Qo("captureMessage",t,"string"==typeof e?e:void 0,Wn({originalException:t,syntheticException:n},"string"!=typeof e?{captureContext:e}:void 0))}function ni(t){return Qo("captureEvent",t)}function ri(t){Qo("configureScope",t)}function oi(t){Qo("addBreadcrumb",t)}function ii(t,e){Qo("setContext",t,e)}function ai(t){Qo("setExtras",t)}function si(t){Qo("setTags",t)}function ci(t,e){Qo("setExtra",t,e)}function ui(t,e){Qo("setTag",t,e)}function li(t){Qo("setUser",t)}function pi(t){Qo("withScope",t)}function fi(t,e){return Qo("startTransaction",Wn({},t),e)}!function(){function t(t,e,n){void 0===e&&(e={}),this.dsn=t,this._dsnObject=wr(t),this.metadata=e,this._tunnel=n}t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return hi(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return mi(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return yi(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return _i(this._dsnObject,this._tunnel)}}();function di(t,e,n){return{initDsn:t,metadata:e||{},dsn:wr(t),tunnel:n}}function hi(t){var e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"}function vi(t,e){return""+hi(t)+t.projectId+"/"+e+"/"}function gi(t){return Ar({sentry_key:t.publicKey,sentry_version:"7"})}function mi(t){return vi(t,"store")}function yi(t){return mi(t)+"?"+gi(t)}function _i(t,e){return e||function(t){return vi(t,"envelope")}(t)+"?"+gi(t)}Oo=a("3Wlpk");var bi=[];function wi(t){return t.reduce((function(t,e){return t.every((function(t){return e.name!==t.name}))&&t.push(e),t}),[])}function ki(t){var e={};return function(t){var e=t.defaultIntegrations&&Vn(t.defaultIntegrations)||[],n=t.integrations,r=Vn(wi(e));Array.isArray(n)?r=Vn(r.filter((function(t){return n.every((function(e){return e.name!==t.name}))})),wi(n)):"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var o=r.map((function(t){return t.name})),i="Debug";return-1!==o.indexOf(i)&&r.push.apply(r,Vn(r.splice(o.indexOf(i),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===bi.indexOf(t.name)&&(t.setupOnce(Ho,Vo),bi.push(t.name),Do&&kr.log("Integration installed: "+t.name))}(t)})),Ir(e,"initialized",!0),e}var xi=function(){function t(t,e){this._integrations={},this._numProcessing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=wr(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this;if(!fo(t)){var o=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){o=t}))),o}Do&&kr.log("Not capturing exception because it's already been captured.")},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id,a=sr(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then((function(t){return o._captureEvent(t,n,r)})).then((function(t){i=t}))),i},t.prototype.captureEvent=function(t,e,n){if(!(e&&e.originalException&&fo(e.originalException))){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r}Do&&kr.log("Not capturing exception because it's already been captured.")},t.prototype.captureSession=function(t){this._isEnabled()?"string"!=typeof t.release?Do&&kr.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1})):Do&&kr.warn("SDK not enabled, will not capture session.")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(t){var e=this;return this._isClientDoneProcessing(t).then((function(n){return e.getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ki(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Do&&kr.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,o=!1,i=!1,a=e.exception&&e.exception.values;if(a){i=!0;try{for(var s=Xn(a),c=s.next();!c.done;c=s.next()){var u=c.value.mechanism;if(u&&!1===u.handled){o=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}var l="ok"===t.status;(l&&0===t.errors||l&&o)&&(t.update(Wn(Wn({},o&&{status:"crashed"}),{errors:t.errors||Number(i||o)})),this.captureSession(t))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientDoneProcessing=function(t){var e=this;return new wo((function(n){var r=0,o=setInterval((function(){0==e._numProcessing?(clearInterval(o),n(!0)):(r+=1,t&&r>=t&&(clearInterval(o),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.normalizeDepth,a=void 0===i?3:i,s=o.normalizeMaxBreadth,c=void 0===s?1e3:s,u=Wn(Wn({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:ao()),timestamp:t.timestamp||Oo.dateTimestampInSeconds()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var l=e;n&&n.captureContext&&(l=Fo.clone(l).update(n.captureContext));var p=yo(u);return l&&(p=l.applyToEvent(u,n)),p.then((function(t){return t&&(t.sdkProcessingMetadata=Wn(Wn({},t.sdkProcessingMetadata),{normalizeDepth:vo(a)+" ("+typeof a+")"})),"number"==typeof a&&a>0?r._normalizeEvent(t,a,c):t}))},t.prototype._normalizeEvent=function(t,e,n){if(!t)return null;var r=Wn(Wn(Wn(Wn(Wn({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Wn(Wn({},t),t.data&&{data:vo(t.data,e,n)})}))}),t.user&&{user:vo(t.user,e,n)}),t.contexts&&{contexts:vo(t.contexts,e,n)}),t.extra&&{extra:vo(t.extra,e,n)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r.sdkProcessingMetadata=Wn(Wn({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,o=e.dist,i=e.maxValueLength,a=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=jr(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=jr(s.value,a));var c=t.request;c&&c.url&&(c.url=jr(c.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=Vn(t.sdk.integrations||[],e))},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){Do&&kr.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate,s=this.getTransport();function c(t,e){s.recordLostEvent&&s.recordLostEvent(t,e)}if(!this._isEnabled())return _o(new gr("SDK not enabled, will not capture event."));var u="transaction"===t.type;return!u&&"number"==typeof a&&Math.random()>a?(c("sample_rate","event"),_o(new gr("Discarding event because it's not included in the random sample (sampling rate = "+a+")"))):this._prepareEvent(t,n,e).then((function(n){if(null===n)throw c("event_processor",t.type||"event"),new gr("An event processor returned null, will not send event.");return e&&e.data&&!0===e.data.__sentry__||u||!i?n:function(t){var e="`beforeSend` method has to return `null` or a valid event.";if(lr(t))return t.then((function(t){if(!cr(t)&&null!==t)throw new gr(e);return t}),(function(t){throw new gr("beforeSend rejected with "+t)}));if(!cr(t)&&null!==t)throw new gr(e);return t}(i(n,e))})).then((function(e){if(null===e)throw c("before_send",t.type||"event"),new gr("`beforeSend` returned `null`, will not send event.");var o=n&&n.getSession&&n.getSession();return!u&&o&&r._updateSessionFromEvent(o,e),r._sendEvent(e),e})).then(null,(function(t){if(t instanceof gr)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new gr("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._numProcessing+=1,t.then((function(t){return e._numProcessing-=1,t}),(function(t){return e._numProcessing-=1,t}))},t}();function Ei(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Si(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Vn(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Vn(t.sdk.packages||[],e.packages||[]),t):t}function Oi(t,e){var n=Ei(e),r="aggregates"in t?"sessions":"session";return[jo(Wn(Wn({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:_r(e.dsn)}),[[{type:r},t]]),r]}var ji=function(){function t(){}return t.prototype.sendEvent=function(t){return yo({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(t){return yo(!0)},t}(),Ti=function(){function t(t){this._options=t,this._options.dsn||Do&&kr.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new gr("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new gr("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=function(t,e){var n=Ei(e),r=t.type||"event",o=(t.sdkProcessingMetadata||{}).transactionSampling||{},i=o.method,a=o.rate;return Si(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata,jo(Wn(Wn({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:_r(e.dsn)}),[[{type:r,sample_rates:[{id:i,rate:a}]},t]])}(t,di(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(e).then(null,(function(t){Do&&kr.error("Error while sending event:",t)}))}else this._transport.sendEvent(t).then(null,(function(t){Do&&kr.error("Error while sending event:",t)}))},t.prototype.sendSession=function(t){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=Kn(Oi(t,di(this._options.dsn,this._options._metadata,this._options.tunnel)),1)[0];this._newTransport.send(e).then(null,(function(t){Do&&kr.error("Error while sending session:",t)}))}else this._transport.sendSession(t).then(null,(function(t){Do&&kr.error("Error while sending session:",t)}));else Do&&kr.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new ji},t}();function Ci(t,e,n){void 0===n&&(n=ko(t.bufferSize||30));var r={};return{send:function(t){var o=To(t),i="event"===o?"error":o,a={category:i,body:Co(t)};return No(r,i)?_o({status:"rate_limit",reason:Li(r,i)}):n.add((function(){return e(a).then((function(t){var e=t.body,n=t.headers,o=t.reason,a=So(t.statusCode);return n&&(r=Ao(r,n)),"success"===a?yo({status:a,reason:o}):_o({status:a,reason:o||e||("rate_limit"===a?Li(r,i):"Unknown transport error")})}))}))},flush:function(t){return n.drain(t)}}}function Li(t,e){return"Too many "+e+" requests, backing off until: "+new Date(Ro(t,e)).toISOString()}Qn=a("k6cxq");var Ii={};e(Ii,"GlobalHandlers",(function(){return ca})),e(Ii,"TryCatch",(function(){return va})),e(Ii,"Breadcrumbs",(function(){return ba})),e(Ii,"LinkedErrors",(function(){return Sa})),e(Ii,"UserAgent",(function(){return Ta})),e(Ii,"Dedupe",(function(){return Ca}));function Ri(t,e,n,r){var o={filename:t,function:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}var Ni=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ai=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pi=[30,function(t){var e=Ni.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){var n=Ai.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}var r=Kn(Gi(e[1]||"?",e[2]),2),o=r[0];return Ri(r[1],o,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],Di=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Mi=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qi=[50,function(t){var e,n=Di.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=Mi.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var o=n[3],i=n[1]||"?";return i=(e=Kn(Gi(i,o),2))[0],Ri(o=e[1],i,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],Bi=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ui=[40,function(t){var e=Bi.exec(t);return e?Ri(e[2],e[1]||"?",+e[3],e[4]?+e[4]:void 0):void 0}],Fi=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,zi=[10,function(t){var e=Fi.exec(t);return e?Ri(e[2],e[3]||"?",+e[1]):void 0}],Hi=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,$i=[20,function(t){var e=Hi.exec(t);return e?Ri(e[5],e[3]||e[4]||"?",+e[1],+e[2]):void 0}],Gi=function(t,e){var n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:"?",n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function Wi(t){var e=Ki(t),n={type:t&&t.name,value:Yi(t)};return e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Xi(t){return{exception:{values:[Wi(t)]}}}function Ki(t){var e=t.stacktrace||t.stack||"",n=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(Vi.test(t.message))return 1}return 0}(t);try{return Ur(zi,$i,Pi,Ui,qi)(e,n)}catch(t){}return[]}var Vi=/Minified React error #\d+;/i;function Yi(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Ji(t,e,n){var r=Qi(t,e&&e.syntheticException||void 0,n);return po(r),r.level=bo.Error,e&&e.event_id&&(r.event_id=e.event_id),yo(r)}function Zi(t,e,n,r){void 0===e&&(e=bo.Info);var o=ta(t,n&&n.syntheticException||void 0,r);return o.level=e,n&&n.event_id&&(o.event_id=n.event_id),yo(o)}function Qi(t,e,n,r){var o;if(rr(t)&&t.error)return Xi(t.error);if(or(t)||ir(t)){var i=t;if("stack"in t)o=Xi(t);else{var a=i.name||(or(i)?"DOMError":"DOMException"),s=i.message?a+": "+i.message:a;lo(o=ta(s,e,n),s)}return"code"in i&&(o.tags=Wn(Wn({},o.tags),{"DOMException.code":""+i.code})),o}return er(t)?Xi(t):cr(t)||ur(t)?(o=function(t,e,n){var r={exception:{values:[{type:ur(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+qr(t)}]},extra:{__serialized__:go(t)}};if(e){var o=Ki(e);o.length&&(r.stacktrace={frames:o})}return r}(t,e,r),po(o,{synthetic:!0}),o):(lo(o=ta(t,e,n),""+t,void 0),po(o,{synthetic:!0}),o)}function ta(t,e,n){var r={message:t};if(n&&e){var o=Ki(e);o.length&&(r.stacktrace={frames:o})}return r}var ea="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,na=(Qn=a("k6cxq")).getGlobalObject(),ra=0;function oa(){return ra>0}function ia(){ra+=1,setTimeout((function(){ra-=1}))}function aa(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{var r=t.__sentry_wrapped__;if(r)return r;if(Nr(t))return t}catch(e){return t}var o=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return aa(t,e)}));return t.apply(this,o)}catch(t){throw ia(),pi((function(n){n.addEventProcessor((function(t){return e.mechanism&&(lo(t,void 0,void 0),po(t,e.mechanism)),t.extra=Wn(Wn({},t.extra),{arguments:r}),t})),ti(t)})),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}catch(t){}Rr(o,t),Ir(t,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:function(){return t.name}})}catch(t){}return o}function sa(t){if(void 0===t&&(t={}),na.document)if(t.eventId)if(t.dsn){var e=na.document.createElement("script");e.async=!0,e.src=function(t,e){var n=wr(t),r=hi(n)+"embed/error-page/",o="dsn="+_r(n);for(var i in e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&(o+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(o+="&email="+encodeURIComponent(e.user.email))}else o+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e[i]);return r+"?"+o}(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var n=na.document.head||na.document.body;n&&n.appendChild(e)}else ea&&kr.error("Missing dsn option in showReportDialog call");else ea&&kr.error("Missing eventId option in showReportDialog call")}var ca=function(){function t(e){this.name=t.id,this._installFunc={onerror:ua,onunhandledrejection:la},this._options=Wn({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var t,e=this._options;for(var n in e){var r=this._installFunc[n];r&&e[n]&&(t=n,ea&&kr.log("Global Handler attached: "+t),r(),this._installFunc[n]=void 0)}},t.id="GlobalHandlers",t}();function ua(){Jr("error",(function(t){var e=Kn(da(),2),n=e[0],r=e[1];if(n.getIntegration(ca)){var o=t.msg,i=t.url,a=t.line,s=t.column,c=t.error;if(!(oa()||c&&c.__sentry_own_request__)){var u=void 0===c&&ar(o)?function(t,e,n,r){var o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,i=rr(t)?t.message:t,a="Error",s=i.match(o);s&&(a=s[1],i=s[2]);return pa({exception:{values:[{type:a,value:i}]}},e,n,r)}(o,i,a,s):pa(Qi(c||o,void 0,r,!1),i,a,s);u.level=bo.Error,fa(n,c,u,"onerror")}}}))}function la(){Jr("unhandledrejection",(function(t){var e=Kn(da(),2),n=e[0],r=e[1];if(n.getIntegration(ca)){var o=t;try{"reason"in t?o=t.reason:"detail"in t&&"reason"in t.detail&&(o=t.detail.reason)}catch(t){}if(oa()||o&&o.__sentry_own_request__)return!0;var i=sr(o)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(o)}]}}:Qi(o,void 0,r,!0);i.level=bo.Error,fa(n,o,i,"onunhandledrejection")}}))}function pa(t,e,n,r){var o=t.exception=t.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,p=ar(e)&&e.length>0?e:hr();return 0===c.length&&c.push({colno:u,filename:p,function:"?",in_app:!0,lineno:l}),t}function fa(t,e,n,r){po(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function da(){var t=Vo(),e=t.getClient();return[t,e&&e.getOptions().attachStacktrace]}Qn=a("k6cxq");var ha=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],va=function(){function t(e){this.name=t.id,this._options=Wn({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Qn.getGlobalObject();this._options.setTimeout&&Lr(t,"setTimeout",ga),this._options.setInterval&&Lr(t,"setInterval",ga),this._options.requestAnimationFrame&&Lr(t,"requestAnimationFrame",ma),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Lr(XMLHttpRequest.prototype,"send",ya);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:ha).forEach(_a)},t.id="TryCatch",t}();function ga(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=aa(r,{mechanism:{data:{function:zr(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function ma(t){return function(e){return t.apply(this,[aa(e,{mechanism:{data:{function:"requestAnimationFrame",handler:zr(t)},handled:!0,type:"instrument"}})])}}function ya(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(t){t in r&&"function"==typeof r[t]&&Lr(r,t,(function(e){var n={mechanism:{data:{function:t,handler:zr(e)},handled:!0,type:"instrument"}},r=Nr(e);return r&&(n.mechanism.data.handler=zr(r)),aa(e,n)}))})),t.apply(this,e)}}function _a(t){var e=Qn.getGlobalObject(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Lr(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=aa(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:zr(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.apply(this,[n,aa(r,{mechanism:{data:{function:"addEventListener",handler:zr(r),target:t},handled:!0,type:"instrument"}}),o])}})),Lr(n,"removeEventListener",(function(t){return function(e,n,r){var o=n;try{var i=o&&o.__sentry_wrapped__;i&&t.call(this,e,i,r)}catch(t){}return t.call(this,e,o,r)}})))}Qn=a("k6cxq");var ba=function(){function t(e){this.name=t.id,this._options=Wn({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Vo().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:uo(t)},{event:t})},t.prototype.setupOnce=function(){this._options.console&&Jr("console",wa),this._options.dom&&Jr("dom",function(t){function e(e){var n,r="object"==typeof t?t.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=e.event.target?fr(e.event.target,r):fr(e.event,r)}catch(t){n="<unknown>"}0!==n.length&&Vo().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})}return e}(this._options.dom)),this._options.xhr&&Jr("xhr",ka),this._options.fetch&&Jr("fetch",xa),this._options.history&&Jr("history",Ea)},t.id="Breadcrumbs",t}();function wa(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Eo(t.level),message:Tr(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Tr(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Vo().addBreadcrumb(e,{input:t.args,level:t.level})}function ka(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,o=e.status_code,i=e.body;Vo().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:t.xhr,input:i})}else;}function xa(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Vo().addBreadcrumb({category:"fetch",data:t.fetchData,level:bo.Error,type:"http"},{data:t.error,input:t.args}):Vo().addBreadcrumb({category:"fetch",data:Wn(Wn({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function Ea(t){var e=Qn.getGlobalObject(),n=t.from,r=t.to,o=so(e.location.href),i=so(n),a=so(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Vo().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var Sa=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Ho((function(e,n){var r=Vo().getIntegration(t);return r?function(t,e,n,r){if(!(n.exception&&n.exception.values&&r&&pr(r.originalException,Error)))return n;var o=Oa(e,r.originalException,t);return n.exception.values=Vn(o,n.exception.values),n}(r._key,r._limit,e,n):e}))},t.id="LinkedErrors",t}();function Oa(t,e,n,r){if(void 0===r&&(r=[]),!pr(e[n],Error)||r.length+1>=t)return r;var o=Wi(e[n]);return Oa(t,e[n],n,Vn([o],r))}var ja=(Qn=a("k6cxq")).getGlobalObject(),Ta=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Ho((function(e){if(Vo().getIntegration(t)){if(!ja.navigator&&!ja.location&&!ja.document)return e;var n=e.request&&e.request.url||ja.location&&ja.location.href,r=(ja.document||{}).referrer,o=(ja.navigator||{}).userAgent,i=Wn(Wn(Wn({},e.request&&e.request.headers),r&&{Referer:r}),o&&{"User-Agent":o}),a=Wn(Wn({},n&&{url:n}),{headers:i});return Wn(Wn({},e),{request:a})}return e}))},t.id="UserAgent",t}(),Ca=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n().getIntegration(t);if(r){try{if(function(t,e){return!!e&&(!!function(t,e){var n=t.message,r=e.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!Ia(t,e)&&!!La(t,e))))}(t,e)||!!function(t,e){var n=Ra(e),r=Ra(t);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!Ia(t,e)&&!!La(t,e)))}(t,e))}(e,r._previousEvent))return ea&&kr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return r._previousEvent=e}return r._previousEvent=e}return e}))},t.id="Dedupe",t}();function La(t,e){var n=Na(t),r=Na(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++){var i=r[o],a=n[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function Ia(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function Ra(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Na(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}else if(t.stacktrace)return t.stacktrace.frames}var Aa={};e(Aa,"BaseTransport",(function(){return Ua})),e(Aa,"FetchTransport",(function(){return Fa})),e(Aa,"XHRTransport",(function(){return za})),e(Aa,"makeNewFetchTransport",(function(){return Ha})),e(Aa,"makeNewXHRTransport",(function(){return $a}));Qn=a("k6cxq");var Pa,Da=(Qn=a("k6cxq")).getGlobalObject();function Ma(){if(Pa)return Pa;if($r(Da.fetch))return Pa=Da.fetch.bind(Da);var t=Da.document,e=Da.fetch;if(t&&"function"==typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(t){ea&&kr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return Pa=e.bind(Da)}function qa(t){return"event"===t?"error":t}var Ba=Qn.getGlobalObject(),Ua=function(){function t(t){var e=this;this.options=t,this._buffer=ko(30),this._rateLimits={},this._outcomes={},this._api=di(t.dsn,t._metadata,t.tunnel),this.url=yi(this._api.dsn),this.options.sendClientReports&&Ba.document&&Ba.document.addEventListener("visibilitychange",(function(){"hidden"===Ba.document.visibilityState&&e._flushOutcomes()}))}return t.prototype.sendEvent=function(t){return this._sendRequest(function(t,e){var n,r=Ei(e),o=t.type||"event",i="transaction"===o||!!e.tunnel,a=(t.sdkProcessingMetadata||{}).transactionSampling||{},s=a.method,c=a.rate;Si(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;try{n=JSON.stringify(t)}catch(e){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=e;try{n=JSON.stringify(vo(t))}catch(t){var u=t;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:u.message,stack:u.stack}})}}var l={body:n,type:o,url:i?_i(e.dsn,e.tunnel):yi(e.dsn)};if(i){var p=jo(Wn(Wn({event_id:t.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:_r(e.dsn)}),[[{type:o,sample_rates:[{id:s,rate:c}]},l.body]]);l.body=Co(p)}return l}(t,this._api),t)},t.prototype.sendSession=function(t){return this._sendRequest(function(t,e){var n=Kn(Oi(t,e),2),r=n[0],o=n[1];return{body:Co(r),type:o,url:_i(e.dsn,e.tunnel)}}(t,this._api),t)},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype.recordLostEvent=function(t,e){var n;if(this.options.sendClientReports){var r=qa(e)+":"+t;ea&&kr.log("Adding outcome: "+r),this._outcomes[r]=(null!=(n=this._outcomes[r])?n:0)+1}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},Object.keys(t).length){ea&&kr.log("Flushing outcomes:\n"+JSON.stringify(t,null,2));var e=_i(this._api.dsn,this._api.tunnel),n=Lo(Object.keys(t).map((function(e){var n=Kn(e.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:t[e]}})),this._api.tunnel&&_r(this._api.dsn));try{!function(t,e){"[object Navigator]"===Object.prototype.toString.call(Da&&Da.navigator)&&"function"==typeof Da.navigator.sendBeacon?Da.navigator.sendBeacon.bind(Da.navigator)(t,e):Hr()&&Zn(Ma()(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}))}(e,Co(n))}catch(t){ea&&kr.error(t)}}else ea&&kr.log("No outcomes to flush")}},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,o=t.resolve,i=t.reject,a=So(n.status);this._rateLimits=Ao(this._rateLimits,r),this._isRateLimited(e)&&ea&&kr.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),"success"!==a?i(n):o({status:a})},t.prototype._disabledUntil=function(t){var e=qa(t);return new Date(Ro(this._rateLimits,e))},t.prototype._isRateLimited=function(t){var e=qa(t);return No(this._rateLimits,e)},t}(),Fa=function(t){function e(e,n){void 0===n&&(n=Ma());var r=t.call(this,e)||this;return r._fetch=n,r}return Gn(e,t),e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:Gr()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new wo((function(e,o){n._fetch(t.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:i,resolve:e,reject:o})})).catch(o)}))})).then(void 0,(function(e){throw e instanceof gr?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(Ua),za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gn(e,t),e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?(this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new wo((function(e,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:o,headers:i,resolve:e,reject:r})}},o.open("POST",t.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(t.body)}))})).then(void 0,(function(e){throw e instanceof gr?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(Ua);function Ha(t,e){return void 0===e&&(e=Ma()),Ci({bufferSize:t.bufferSize},(function(n){var r=Wn({body:n.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return e(t.url,r).then((function(t){return t.text().then((function(e){return{body:e,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")},reason:t.statusText,statusCode:t.status}}))}))}))}function $a(t){return Ci({bufferSize:t.bufferSize},(function(e){return new wo((function(n,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var t={body:o.response,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")},reason:o.statusText,statusCode:o.status};n(t)}},o.open("POST",t.url),t.headers)Object.prototype.hasOwnProperty.call(t.headers,i)&&o.setRequestHeader(i,t.headers[i]);o.send(e.body)}))}))}var Ga={};e(Ga,"Severity",(function(){return bo})),e(Ga,"addGlobalEventProcessor",(function(){return Ho})),e(Ga,"addBreadcrumb",(function(){return oi})),e(Ga,"captureException",(function(){return ti})),e(Ga,"captureEvent",(function(){return ni})),e(Ga,"captureMessage",(function(){return ei})),e(Ga,"configureScope",(function(){return ri})),e(Ga,"getHubFromCarrier",(function(){return Jo})),e(Ga,"getCurrentHub",(function(){return Vo})),e(Ga,"Hub",(function(){return Wo})),e(Ga,"makeMain",(function(){return Ko})),e(Ga,"Scope",(function(){return Fo})),e(Ga,"Session",(function(){return $o})),e(Ga,"startTransaction",(function(){return fi})),e(Ga,"SDK_VERSION",(function(){return"6.19.6"})),e(Ga,"setContext",(function(){return ii})),e(Ga,"setExtra",(function(){return ci})),e(Ga,"setExtras",(function(){return ai})),e(Ga,"setTag",(function(){return ui})),e(Ga,"setTags",(function(){return si})),e(Ga,"setUser",(function(){return li})),e(Ga,"withScope",(function(){return pi})),e(Ga,"BrowserClient",(function(){return Xa})),e(Ga,"injectReportDialog",(function(){return sa})),e(Ga,"eventFromException",(function(){return Ji})),e(Ga,"eventFromMessage",(function(){return Zi})),e(Ga,"defaultIntegrations",(function(){return Ka})),e(Ga,"forceLoad",(function(){return Za})),e(Ga,"init",(function(){return Va})),e(Ga,"lastEventId",(function(){return Ja})),e(Ga,"onLoad",(function(){return Qa})),e(Ga,"showReportDialog",(function(){return Ya})),e(Ga,"flush",(function(){return ts})),e(Ga,"close",(function(){return es})),e(Ga,"wrap",(function(){return ns})),e(Ga,"SDK_NAME",(function(){return os}));Qn=a("k6cxq");var Wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gn(e,t),e.prototype.eventFromException=function(t,e){return Ji(t,e,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=bo.Info),Zi(t,e,n,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Wn(Wn({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=di(e.dsn,e._metadata,e.tunnel),r=_i(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(e);if(Hr()){var o=Wn({},e.fetchParameters);return this._newTransport=Ha({requestOptions:o,url:r}),new Fa(e)}return this._newTransport=$a({url:r,headers:e.headers}),new za(e)},e}(Ti),Xa=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"6.19.6"}],version:"6.19.6"},t.call(this,Wa,e)||this}return Gn(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Qn.getGlobalObject().document&&(this._isEnabled()?sa(Wn(Wn({},t),{dsn:t.dsn||this.getDsn()})):ea&&kr.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(ba);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(xi),Ka=(Qn=a("k6cxq"),[new Yn.InboundFilters,new Yn.FunctionToString,new va,new ba,new ca,new Sa,new Ca,new Ta]);function Va(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ka),void 0===t.release){var e=Qn.getGlobalObject();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(t,e){!0===e.debug&&(Do?kr.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Vo(),r=n.getScope();r&&r.update(e.initialScope);var o=new t(e);n.bindClient(o)}(Xa,t),t.autoSessionTracking&&function(){if(void 0===Qn.getGlobalObject().document)return void(ea&&kr.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var t=Vo();if(!t.captureSession)return;rs(t),Jr("history",(function(t){var e=t.from,n=t.to;void 0!==e&&e!==n&&rs(Vo())}))}()}function Ya(t){void 0===t&&(t={});var e=Vo(),n=e.getScope();n&&(t.user=Wn(Wn({},n.getUser()),t.user)),t.eventId||(t.eventId=e.lastEventId());var r=e.getClient();r&&r.showReportDialog(t)}function Ja(){return Vo().lastEventId()}function Za(){}function Qa(t){t()}function ts(t){var e=Vo().getClient();return e?e.flush(t):(ea&&kr.warn("Cannot flush events. No client defined."),yo(!1))}function es(t){var e=Vo().getClient();return e?e.close(t):(ea&&kr.warn("Cannot flush events and disable SDK. No client defined."),yo(!1))}function ns(t){return aa(t)()}function rs(t){t.startSession({ignoreDuration:!0}),t.captureSession()}var os="sentry.javascript.browser",is={},as=Qn.getGlobalObject();as.Sentry&&as.Sentry.Integrations&&(is=as.Sentry.Integrations);var ss=Wn(Wn(Wn({},is),Yn),Ii);r(Hn,Ga);var cs={components:Ye,core:Qe,diagnostics:tn,elements:en,io:nn,services:an,startup:sn,storage:En,stores:Sn,styles:qn,subscriptions:Bn,ui:Un,util:Fn,vendorComponents:zn,vendorServices:{gtag:({config:t,io:e,window:n})=>{const{trackingId:r,enabled:o}=t.gtag,i=()=>{n.dataLayer=[],n[`ga-disable-${r}`]=!o,a("js",e.date()),a("config",r)};function a(){n.dataLayer||i(),n.dataLayer.push(arguments)}return a},sentry:({config:t})=>(Hn.init&&Hn.init(t.sentry),Hn)}};const{storage:us,util:ls}=cs;var ps;ps=JSON.parse('{"gtag":{"trackingId":"UA-34497639-2","enabled":false},"sentry":{"dsn":"https://63594154fcf34c34966aec13b15e2821@o418187.ingest.sentry.io/5320412","enabled":false},"app":{"name":"Agile Avatars","issues":"https://github.com/mattriley/agileavatars/issues","source":"https://github.com/mattriley/agileavatars"},"author":{"name":"Matt Riley","profile":"https://www.linkedin.com/in/mattrileyau/"},"gravatar":{"domain":"https://secure.gravatar.com","size":600,"fallbacks":["robohash","monsterid","wavatar","retro","identicon","mp"],"errorMessage":"An error occurred. Please check your connection and try again."},"options":{"layout":"modes | shapes | size | spacing | sort | outline","modes":["active","passive"],"shapes":["circle","square"],"shapeRadius":{"circle":50,"square":0},"active":{"min":0,"max":999,"step":1},"passive":{"min":0,"max":999,"step":1},"size":{"min":100,"max":600,"step":10},"spacing":{"min":0,"max":10,"step":1},"sort":{"orderAdded":"Order added","roleThenName":"Role, then name","name":"Name"}},"tags":{"layout":"tagImage | tagName roleName","imagePadding":17},"roles":{"nilRole":{"roleName":"","color":"#ffffff"},"presetColors":{"BA":"#6688c3","DEV":"#48a56a","PO":"#ce4a4a","QA":"#eaaf41","TL":"#000000","XD":"#b25da6"}},"debounce":{"adjustTagInstanceCounts":100,"sortTagList":50},"storage":{"stores":["settings","roles","tags","tagInstances"],"defaults":{"settings":{"app":{"modal":"welcome","nilRoleId":null},"options":{"sort":"orderAdded","shape":"circle","active":1,"passive":0,"size":170,"spacing":4,"outline":true},"gravatar":{"fallback":"robohash","freetext":"","status":"ready","errorMessage":""}}}}}');const fs=/localhost/.test(window.location.host),ds=(({window:t,overrides:e},...r)=>{const o=n(s)({},n(ps),...r),i=(({window:t,config:e,overrides:r})=>{const o=n(ze)(cs,{overrides:r}),{stores:i}=o("stores",{storage:us,config:e},(t=>t.setup())),{subscriptions:a}=o("subscriptions",{stores:i,util:ls},(t=>t.setup())),{core:s}=o("core",{util:ls,config:e}),{io:c}=o("io",{window:t},(t=>t.setup())),{services:u}=o("services",{subscriptions:a,stores:i,core:s,io:c,util:ls,config:e}),{vendorServices:l}=o("vendorServices",{io:c,config:e,window:t}),{ui:p}=o("ui",{window:t}),{el:f}=p,{elements:d}=o("elements",{el:f,ui:p,util:ls}),{vendorComponents:h}=o("vendorComponents",{el:f,ui:p,config:e,window:t}),{components:v}=o("components",{el:f,ui:p,elements:d,vendorComponents:h,vendorServices:l,services:u,subscriptions:a,util:ls,config:e}),{styles:g}=o("styles",{el:f,ui:p,subscriptions:a,config:e});return o("diagnostics",{stores:i,util:ls}),o("startup",{ui:p,components:v,styles:g,services:u,subscriptions:a,stores:i,util:ls,config:e})})({window:t,config:o,overrides:e});return{config:o,...i}})({window:window},{gtag:{enabled:!fs},sentry:{enabled:!fs}}),{config:hs,startup:vs,components:gs}=ds;window.app=ds,window.document.title=hs.app.name;const{createRoot:ms}=vs.start();ms(document.getElementById("app")).render(gs.app());